<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Planicchio</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:Arial;background:#fff7ed;margin:0;padding:20px}
.card{background:white;padding:16px;border-radius:14px;margin-bottom:16px}
.hidden{display:none}
h1,h2{text-align:center}
.progress-bar{height:12px;background:#fde68a;border-radius:10px;overflow:hidden}
.progress{height:100%;width:0%;background:#fb923c}
.mission{font-size:14px;margin:6px 0}
button{width:100%;padding:10px;margin-top:8px;border:none;border-radius:10px;background:#fb923c;color:white;font-size:16px}
select,input{width:100%;padding:8px;margin-bottom:10px}
.question{font-weight:bold;margin-bottom:12px}
</style>
</head>

<body>

<div id="start" class="card">
<h1>PLANICCHIO ğŸ±</h1>
<select id="course">
  <option value="it-en">Italiano â†’ English</option>
  <option value="it-pt">Italiano â†’ PortuguÃªs</option>
  <option value="pt-it">PortuguÃªs â†’ Italiano</option>
  <option value="pt-en">PortuguÃªs â†’ English</option>
  <option value="en-it">English â†’ Italiano</option>
  <option value="en-pt">English â†’ PortuguÃªs</option>
</select>

<select id="level">
<option>A1</option><option>A2</option>
<option>B1</option><option>B2</option>
<option>C1</option><option>C2</option>
</select>

<button onclick="start()">ComeÃ§ar</button>
</div>

<div id="app" class="hidden">

<div class="card">
<h2>NÃ­vel <span id="userLevel">1</span></h2>
<div class="progress-bar"><div class="progress" id="progress"></div></div>
<p>XP: <span id="xp">0</span></p>
</div>

<div class="card">
<h3>ğŸ¯ MissÃµes DiÃ¡rias</h3>
<div class="mission" id="d1">â­• Completar 3 exercÃ­cios</div>
<div class="mission" id="d2">â­• Acertar 2 seguidos</div>
<div class="mission" id="d3">â­• Estudar hoje</div>
</div>

<div class="card">
<div id="prompt" class="question"></div>

<div id="quizBox">
<button id="o1"></button>
<button id="o2"></button>
</div>

<div id="writeBox" class="hidden">
<input id="input" placeholder="Escreva aqui">
<button onclick="next()">Confirmar</button>
</div>
</div>

</div>

<script>
let list=[],index=0,correctStreak=0,completed=0

let xp=Number(localStorage.getItem("xp"))||0

function updateProgress(){
  document.getElementById("xp").innerText=xp
  const lvl=Math.floor(xp/100)+1
  document.getElementById("userLevel").innerText=lvl
  document.getElementById("progress").style.width=(xp%100)+"%"
}

updateProgress()

const exercises=[
{course:"it-en",level:"A1",type:"quiz",prompt:"Come si dice 'Ciao' in inglese?",o1:"Hello",o2:"Goodbye"},
{course:"it-en",level:"B1",type:"write",prompt:"Traduci: Sto studiando inglese",answer:"I am studying English"},
{course:"pt-it",level:"A1",type:"quiz",prompt:"Como se diz 'OlÃ¡' em italiano?",o1:"Ciao",o2:"Prego"},
{course:"pt-en",level:"B2",type:"situation",prompt:"No trabalho: peÃ§a ajuda",answer:"Can you help me?"},
{course:"en-pt",level:"A2",type:"write",prompt:"Translate: I live here",answer:"Moro aqui"},
{course:"en-it",level:"C1",type:"write",prompt:"Translate: I have professional experience",answer:"Ho esperienza professionale"}
]

function start(){
const c=course.value
const l=level.value
list=exercises.filter(e=>e.course===c && e.level===l)
document.getElementById("start").classList.add("hidden")
document.getElementById("app").classList.remove("hidden")
index=0
show()
}

function show(){
const e=list[index%list.length]
prompt.innerText=e.prompt
quizBox.classList.add("hidden")
writeBox.classList.add("hidden")

if(e.type==="quiz"){
quizBox.classList.remove("hidden")
o1.innerText=e.o1
o2.innerText=e.o2
o1.onclick=()=>success()
o2.onclick=()=>success()
}else{
writeBox.classList.remove("hidden")
}
}

function success(){
xp+=10
localStorage.setItem("xp",xp)
completed++
correctStreak++
updateProgress()

if(completed>=3) d1.innerText="âœ… Completar 3 exercÃ­cios"
if(correctStreak>=2) d2.innerText="âœ… Acertar 2 seguidos"
d3.innerText="âœ… Estudar hoje"

next()
}

function next(){
index++
show()
}
</script>

</body>
</html>
