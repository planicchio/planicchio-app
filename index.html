<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planicchio Pro</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --p-orange: #ff7a00;
            --p-light: #fff5eb;
            --p-white: #ffffff;
            --p-text: #2d2d2d;
            --p-gray: #f0f0f0;
        }

        * { margin:0; padding:0; box-sizing:border-box; font-family:'Nunito', sans-serif; }
        body { background: var(--p-white); color: var(--p-text); overflow-x: hidden; transition: 0.3s; }

        /* GATO CSS MELHORADO */
        .cat-container { position: relative; width: 100px; height: 90px; margin: 0 auto; }
        .cat-head { 
            width: 80px; height: 70px; background: #ff9500; border-radius: 50% 50% 45% 45%; 
            position: relative; border: 3px solid #fff; box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .cat-ear { 
            width: 0; height: 0; border-left: 12px solid transparent; border-right: 12px solid transparent; 
            border-bottom: 22px solid #ff9500; position: absolute; top: -10px; 
        }
        .ear-l { left: 5px; transform: rotate(-20deg); }
        .ear-r { right: 5px; transform: rotate(20deg); }
        .cat-eye { width: 10px; height: 10px; background: #000; border-radius: 50%; position: absolute; top: 25px; z-index: 5; }
        .eye-l { left: 20px; } .eye-r { right: 20px; }
        .cat-nose { width: 8px; height: 5px; background: #ffb3b3; border-radius: 50%; position: absolute; top: 40px; left: 36px; z-index: 5; }
        .cat-mouth { 
            width: 14px; height: 8px; border-bottom: 2px solid #000; border-radius: 0 0 10px 10px; 
            position: absolute; top: 43px; left: 33px; z-index: 5;
        }

        .dance { animation: bounce 0.8s infinite alternate; }
        @keyframes bounce { from { transform: translateY(0); } to { transform: translateY(-20px); } }

        /* TELAS */
        .screen { display: none; min-height: 100vh; width: 100%; padding: 20px; }
        .active-screen { display: flex; flex-direction: column; animation: slideIn 0.4s ease; }
        @keyframes slideIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

        .bg-orange { background: var(--p-orange); color: white; justify-content: center; align-items: center; }

        /* COMPONENTES */
        .btn-white { 
            background: white; color: var(--p-orange); border: none; padding: 20px; 
            border-radius: 25px; width: 100%; max-width: 350px; margin-bottom: 12px; 
            font-weight: 900; font-size: 18px; cursor: pointer; box-shadow: 0 6px 0 rgba(0,0,0,0.1);
        }
        .btn-main { 
            background: var(--p-orange); color: white; border: none; padding: 18px; 
            border-radius: 20px; width: 100%; font-weight: 900; box-shadow: 0 5px 0 #d36500; cursor: pointer; 
        }
        .card { background: var(--p-light); border-radius: 30px; padding: 25px; margin-bottom: 15px; border: none; }
        
        /* NAV */
        nav { 
            position: fixed; bottom: 0; left: 0; width: 100%; background: white; 
            display: flex; justify-content: space-around; padding: 12px 5px; 
            border-top: 3px solid var(--p-gray); z-index: 1000;
        }
        .nav-item { color: #ccc; text-align: center; cursor: pointer; flex: 1; transition: 0.2s; }
        .nav-item span { display: block; font-size: 9px; font-weight: 900; margin-top: 4px; }
        .nav-active { color: var(--p-orange); transform: scale(1.1); }

        /* PET FLUTUANTE */
        #floating-pet { position: fixed; bottom: 95px; right: 15px; z-index: 2000; display: none; align-items: center; }
        .bubble { 
            background: white; border: 2.5px solid var(--p-orange); padding: 10px 15px; 
            border-radius: 20px; font-size: 13px; font-weight: 900; margin-right: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); 
        }

        /* PERFIL & DIARIO */
        textarea { width: 100%; height: 120px; border-radius: 20px; border: 2px solid var(--p-orange); padding: 15px; margin: 10px 0; font-size: 16px; outline: none; }
        input { width: 100%; padding: 12px; border-radius: 15px; border: 2px solid var(--p-gray); margin: 8px 0; }
    </style>
</head>
<body data-theme="light">

    <div id="screen-intro" class="screen bg-orange active-screen">
        <div class="cat-container dance">
            <div class="cat-head">
                <div class="cat-ear ear-l"></div><div class="cat-ear ear-r"></div>
                <div class="cat-eye eye-l"></div><div class="cat-eye eye-r"></div>
                <div class="cat-nose"></div><div class="cat-mouth"></div>
            </div>
        </div>
        <h1 style="font-size: 42px; font-weight: 900; margin: 25px 0;">Planicchio</h1>
        <div id="course-btns" style="width: 100%; max-width: 350px;"></div>
    </div>

    <div id="screen-quiz" class="screen">
        <div class="card" style="margin-top: 50px; text-align: center; border: 4px solid var(--p-orange);">
            <h2 id="q-title" style="color: var(--p-orange);">Nivelamento</h2>
            <p id="q-text" style="font-size: 22px; margin: 30px 0; font-weight: 800;"></p>
            <div id="q-options"></div>
        </div>
    </div>

    <div id="screen-app" class="screen">
        
        <div id="tab-home" class="tab-content">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <h2 style="font-weight:900; color:var(--p-orange); font-size: 28px;">Planicchio</h2>
                <div style="background:var(--p-orange); color:white; padding:6px 18px; border-radius:25px; font-weight:900;">üî• 1</div>
            </div>
            <div class="card" style="margin-top:25px;">
                <h3 id="ui-rank">N√¥made [A1]</h3>
                <div style="background:#fff; height:15px; border-radius:12px; margin:12px 0; overflow:hidden;">
                    <div id="xp-bar" style="background:var(--p-orange); width:30%; height:100%;"></div>
                </div>
                <p style="font-size:13px; font-weight:800; color: #666;">XP: <span id="xp-val">30</span> / 100</p>
            </div>
            <div class="card">
                <h4 id="ui-miss">Miss√µes Di√°rias</h4>
                <p>‚ú® <span id="ui-miss-text">Pratique 5 minutos de cores</span> (+25 XP)</p>
            </div>
            <h4 style="margin: 20px 0 10px;">Minigames üïπÔ∏è</h4>
            <div style="display:flex; gap:12px;">
                <button class="btn-main" style="flex:1; background:#58cc02; box-shadow:0 5px 0 #3d8b02;">Speed</button>
                <button class="btn-main" style="flex:1;">Memory</button>
            </div>
        </div>

        <div id="tab-tips" class="tab-content" style="display:none;">
            <h2 id="ui-tips-head">Dicas Culturais</h2>
            <div class="card" style="margin-top:20px;">
                <p id="ui-tip-content">Na It√°lia, o caf√© √© um ritual. Nunca pe√ßa um "Latte" se quiser caf√© com leite, pe√ßa um "Caff√® Latte"!</p>
            </div>
        </div>

        <div id="tab-dict" class="tab-content" style="display:none;">
            <h2 id="ui-dict-head">Dicion√°rio</h2>
            <input type="text" id="dict-search" placeholder="Buscar palavra...">
            <div class="card" style="border: 2px dashed var(--p-orange); margin-top:20px; opacity: 0.8;">
                <h4 style="color:var(--p-orange)">Flashcards VIP üíé</h4>
                <p>Desbloqueie para memorizar 10x mais r√°pido.</p>
            </div>
        </div>

        <div id="tab-comm" class="tab-content" style="display:none;">
            <h2 id="ui-comm-head">Comunidade</h2>
            <div class="card">
                <p><b>@User77:</b> Gente, as g√≠rias de Mil√£o s√£o muito diferentes! ü§å</p>
            </div>
            <button class="btn-main" style="background: linear-gradient(45deg, #ffd700, #ff8c00); border:none;">Talk to Natives (VIP)</button>
        </div>

        <div id="tab-learn" class="tab-content" style="display:none;">
            <h2 id="ui-learn-head">Praticar</h2>
            <div id="ex-box" class="card" style="background:white; border:3px solid var(--p-orange); margin-top:20px;">
                </div>
        </div>

        <div id="tab-me" class="tab-content" style="display:none;">
            <h2 id="ui-me-head">Meu Perfil</h2>
            <div class="card">
                <label><b>Nome:</b></label>
                <input type="text" id="user-name" value="Ana" onchange="updateName()">
                
                <label style="display:block; margin-top:15px;"><b>Di√°rio de Estudos:</b></label>
                <textarea id="study-diary" placeholder="O que aprendemos hoje?"></textarea>
                
                <div style="display:grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px;">
                    <button class="btn-main" style="background:#555;" onclick="location.reload()">Mudar Curso</button>
                    <button class="btn-main" style="background:#ff9500;" onclick="alert('Pet mudado!')">Mudar Pet</button>
                </div>
            </div>
            <button class="btn-main" style="background: #2d2d2d; margin-top: 10px;" onclick="toggleTheme()">Modo Escuro</button>
        </div>

        <nav>
            <div class="nav-item nav-active" onclick="changeTab('home', this)">üè†<span id="nav-h">HOME</span></div>
            <div class="nav-item" onclick="changeTab('tips', this)">üí°<span id="nav-t">DICAS</span></div>
            <div class="nav-item" onclick="changeTab('dict', this)">üìñ<span id="nav-d">DICT</span></div>
            <div class="nav-item" onclick="changeTab('comm', this)">ü§ù<span id="nav-c">SOCIAL</span></div>
            <div class="nav-item" onclick="changeTab('learn', this)">üéØ<span id="nav-l">LEARN</span></div>
            <div class="nav-item" onclick="changeTab('me', this)">üë§<span id="nav-m">ME</span></div>
        </nav>
    </div>

    <div id="floating-pet">
        <div class="bubble" id="pet-speech">Ciao!</div>
        <div class="cat-container" style="transform: scale(0.6);">
            <div class="cat-head">
                <div class="cat-ear ear-l"></div><div class="cat-ear ear-r"></div>
                <div class="cat-eye eye-l"></div><div class="cat-eye eye-r"></div>
                <div class="cat-nose"></div><div class="cat-mouth"></div>
            </div>
        </div>
    </div>

    <script>
        const courses = [
            { id: 'it-en', n: 'Italiano ‚ûî Ingl√™s', f: 'üáÆüáπ' },
            { id: 'en-it', n: 'Ingl√™s ‚ûî Italiano', f: 'üá¨üáß' },
            { id: 'pt-it', n: 'Portugu√™s ‚ûî Italiano', f: 'üáßüá∑' },
            { id: 'it-pt', n: 'Italiano ‚ûî Portugu√™s', f: 'üáÆüáπ' },
            { id: 'pt-en', n: 'Portugu√™s ‚ûî Ingl√™s', f: 'üáßüá∑' },
            { id: 'en-pt', n: 'Ingl√™s ‚ûî Portugu√™s', f: 'üá¨üáß' }
        ];

        const dict = {
            'it-en': {
                h:'HOME', t:'TIPS', d:'DICT', c:'SOCIAL', l:'LEARN', m:'ME',
                q: 'Como se diz "Bom dia"?', o: ['Buongiorno', 'Ciao', 'Prego'], a: 'Buongiorno',
                welcome: 'Ciao!', rank: 'N√¥made [A1]', miss: 'Miss√µes Di√°rias', tips: 'Dicas Culturais',
                ex_q: 'Traduza: "A Ma√ß√£"', ex_a: 'La mela'
            },
            'pt-it': {
                h:'IN√çCIO', t:'DICAS', d:'DICIO', c:'SOCIAL', l:'ESTUDAR', m:'EU',
                q: 'Como se diz "Oi"?', o: ['Ciao', 'Buongiorno', 'Grazie'], a: 'Ciao',
                welcome: 'Benvenuti!', rank: 'Nomade [A1]', miss: 'Miss√µes', tips: 'Cultura',
                ex_q: 'Traduza: "O Gato"', ex_a: 'Il gatto'
            }
        };

        let state = { course: 'it-en', xp: 30, score: 0 };

        window.onload = () => {
            const container = document.getElementById('course-btns');
            courses.forEach(c => {
                container.innerHTML += `<button class="btn-white" onclick="startQuiz('${c.id}')">${c.f} ${c.n}</button>`;
            });
        };

        function startQuiz(id) {
            state.course = id;
            document.getElementById('screen-intro').classList.remove('active-screen');
            document.getElementById('screen-quiz').classList.add('active-screen');
            
            const data = dict[id] || dict['it-en'];
            document.getElementById('q-text').innerText = data.q;
            const opts = document.getElementById('q-options');
            opts.innerHTML = '';
            data.o.forEach(o => {
                opts.innerHTML += `<button class="btn-main" style="margin-bottom:12px" onclick="goApp('${o}','${data.a}')">${o}</button>`;
            });
        }

        function goApp(o, a) {
            if(o === a) state.score = 2;
            document.getElementById('screen-quiz').classList.remove('active-screen');
            document.getElementById('screen-app').classList.add('active-screen');
            document.getElementById('floating-pet').style.display = 'flex';
            
            translateAll();
            loadExercise();
        }

        function translateAll() {
            const d = dict[state.course] || dict['it-en'];
            // Nav
            document.getElementById('nav-h').innerText = d.h;
            document.getElementById('nav-t').innerText = d.t;
            document.getElementById('nav-d').innerText = d.d;
            document.getElementById('nav-c').innerText = d.c;
            document.getElementById('nav-l').innerText = d.l;
            document.getElementById('nav-m').innerText = d.m;
            // Headers
            document.getElementById('ui-tips-head').innerText = d.tips;
            document.getElementById('ui-dict-head').innerText = d.d;
            document.getElementById('ui-comm-head').innerText = d.c;
            document.getElementById('ui-learn-head').innerText = d.l;
            document.getElementById('ui-me-head').innerText = d.m;
            document.getElementById('ui-miss').innerText = d.miss;
            
            document.getElementById('pet-speech').innerText = d.welcome;
            
            const ranksArr = ["N√¥made [A1]", "Viajante [A2]", "Explorador [B1]", "Piloto [B2]", "Mestre [C1]", "Nativo [C2]"];
            document.getElementById('ui-rank').innerText = ranksArr[state.score] || ranksArr[0];
        }

        function loadExercise() {
            const d = dict[state.course] || dict['it-en'];
            const box = document.getElementById('ex-box');
            box.innerHTML = `<h4>${d.ex_q}</h4>
            <input type="text" id="ex-input" placeholder="Resposta...">
            <button class="btn-main" onclick="checkEx('${d.ex_a}')">Conferir</button>`;
        }

        function checkEx(ans) {
            const user = document.getElementById('ex-input').value.toLowerCase();
            if(user === ans.toLowerCase()) {
                alert("Slay! +20 XP ‚ú®");
                state.xp += 20;
                document.getElementById('pet-speech').innerText = "Perfetto!";
            } else {
                alert("No cap, a resposta era: " + ans);
            }
            updateXP();
        }

        function updateXP() {
            document.getElementById('xp-bar').style.width = state.xp + '%';
            document.getElementById('xp-val').innerText = state.xp;
        }

        function changeTab(tabId, el) {
            document.querySelectorAll('.tab-content').forEach(t => t.style.display = 'none');
            document.getElementById('tab-' + tabId).style.display = 'block';
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('nav-active'));
            el.classList.add('nav-active');
        }

        function toggleTheme() {
            const b = document.body;
            b.style.filter = b.style.filter === 'invert(1)' ? 'none' : 'invert(1)';
        }
        
        function updateName() {
            const n = document.getElementById('user-name').value;
            document.getElementById('pet-speech').innerText = "Ciao, " + n + "!";
        }
    </script>
</body>
</html>
