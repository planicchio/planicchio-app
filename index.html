<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planicchio</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --p-orange: #ff7a00;
            --p-deep-orange: #e66a00;
            --p-light-orange: #ffebd6;
            --p-white: #ffffff;
            --p-text: #2d2d2d;
        }

        * { margin:0; padding:0; box-sizing:border-box; font-family:'Nunito', sans-serif; }
        body { background: var(--p-white); color: var(--p-text); overflow-x: hidden; }

        /* SPLASH & INTRO */
        .screen-intro { 
            background: var(--p-orange); min-height: 100vh; display: flex; flex-direction: column; 
            align-items: center; justify-content: center; padding: 20px; text-align: center; color: white;
        }

        /* GATO LARANJA ESTILIZADO */
        .cat-box { position: relative; width: 100px; height: 100px; animation: bounce 1s infinite alternate; }
        .cat-body { 
            width: 80px; height: 70px; background: #ffa500; border-radius: 50% 50% 40% 40%; 
            border: 4px solid #fff; position: relative; margin: 0 auto;
        }
        .cat-ear { 
            width: 0; height: 0; border-left: 12px solid transparent; 
            border-right: 12px solid transparent; border-bottom: 20px solid #ffa500;
            position: absolute; top: -10px; border-top: 4px solid white;
        }
        .ear-l { left: 5px; transform: rotate(-20deg); }
        .ear-r { right: 5px; transform: rotate(20deg); }
        .cat-eye { width: 10px; height: 10px; background: #2d2d2d; border-radius: 50%; position: absolute; top: 25px; }
        .eye-l { left: 20px; } .eye-r { right: 20px; }

        @keyframes bounce { from { transform: translateY(0); } to { transform: translateY(-20px); } }

        /* PET FLUTUANTE FIXED */
        #floating-pet {
            position: fixed; bottom: 85px; right: 20px; z-index: 2000;
            display: none; align-items: center;
        }
        .pet-bubble {
            background: white; border: 2px solid var(--p-orange); padding: 8px 15px;
            border-radius: 20px; font-size: 12px; font-weight: 800; margin-right: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1); max-width: 150px;
        }

        /* LAYOUT GEN Z */
        .screen { display: none; padding: 20px; padding-bottom: 120px; animation: fadeIn 0.4s; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .btn-course {
            background: white; color: var(--p-orange); border: 3px solid white;
            padding: 18px; border-radius: 25px; width: 100%; margin-bottom: 12px;
            font-weight: 900; font-size: 18px; cursor: pointer; transition: 0.3s;
            box-shadow: 0 6px 0 rgba(0,0,0,0.1);
        }
        .btn-course:hover { transform: translateY(-3px); background: var(--p-light-orange); }

        .btn-main {
            background: var(--p-orange); color: white; border: none; padding: 18px;
            border-radius: 20px; width: 100%; font-weight: 900; box-shadow: 0 6px 0 #d36500;
        }

        .card { background: var(--p-light-orange); border-radius: 30px; padding: 25px; margin-bottom: 20px; border: none; }
        
        /* NAV */
        nav { 
            position: fixed; bottom: 0; left: 0; width: 100%; background: white; 
            display: flex; justify-content: space-around; padding: 15px; 
            border-top: 3px solid var(--p-light-orange); z-index: 1000;
        }
        .nav-item { color: #ccc; font-size: 24px; cursor: pointer; text-align: center; }
        .nav-item span { display: block; font-size: 10px; font-weight: 900; }
        .active-tab { color: var(--p-orange); }

        /* DI√ÅRIO */
        textarea#study-notes {
            width: 100%; height: 200px; border-radius: 20px; border: 2px solid var(--p-orange);
            padding: 15px; font-size: 16px; outline: none; margin-top: 10px;
        }
    </style>
</head>
<body>

    <div id="screen-intro" class="screen-intro active">
        <div class="cat-box">
            <div class="cat-body">
                <div class="cat-ear ear-l"></div><div class="cat-ear ear-r"></div>
                <div class="cat-eye eye-l"></div><div class="cat-eye eye-r"></div>
            </div>
        </div>
        <h1 style="font-weight: 900; font-size: 35px; margin: 20px 0;">Planicchio</h1>
        <div id="course-list" style="width: 100%; max-width: 400px;"></div>
    </div>

    <div id="screen-quizz" class="screen">
        <div class="card" style="background: white; border: 4px solid var(--p-orange);">
            <h2 id="quiz-title" style="color: var(--p-orange);">Nivelamento</h2>
            <p id="quiz-question" style="margin: 20px 0; font-size: 18px; font-weight: 700;"></p>
            <div id="quiz-options"></div>
        </div>
    </div>

    <div id="floating-pet">
        <div class="pet-bubble" id="pet-msg">Ciao!</div>
        <div class="cat-body" style="width: 50px; height: 45px; border-width: 2px;">
            <div class="cat-ear ear-l" style="top:-8px; border-bottom-width:12px;"></div>
            <div class="cat-ear ear-r" style="top:-8px; border-bottom-width:12px;"></div>
        </div>
    </div>

    <div id="screen-app" class="screen">
        <div id="tab-home" class="tab-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2 style="font-weight: 900;">Planicchio</h2>
                <div style="background: var(--p-orange); color:white; padding: 5px 15px; border-radius: 20px; font-weight: 900;">üî• <span id="streak-val">0</span></div>
            </div>
            
            <div class="card">
                <h3 id="lvl-title">N√¥made "A1"</h3>
                <div style="background: white; height: 12px; border-radius: 10px; margin: 10px 0;">
                    <div id="xp-bar" style="background: var(--p-orange); width: 10%; height: 100%; border-radius: 10px;"></div>
                </div>
                <p style="font-size: 12px; font-weight: 800;">XP: <span id="xp-val">0</span> / 100</p>
            </div>

            <div class="card" style="background: #fff; border: 3px solid var(--p-light-orange);">
                <h3 id="txt-mission">Miss√µes</h3>
                <p>üöÄ Praticar 5 minutos</p>
            </div>
        </div>

        <div id="tab-learn" class="tab-content" style="display:none;">
            <h2 id="txt-learn-title">Exerc√≠cios</h2>
            <div id="exercise-box" class="card" style="background: white; border: 3px solid var(--p-orange); margin-top: 20px;"></div>
        </div>

        <div id="tab-diary" class="tab-content" style="display:none;">
            <h2>Di√°rio de Estudos ‚úçÔ∏è</h2>
            <textarea id="study-notes" placeholder="O que voc√™ aprendeu hoje?"></textarea>
            <button class="btn-main" onclick="saveDiary()" style="margin-top:10px;">Salvar Notas</button>
        </div>

        <div id="tab-profile" class="tab-content" style="display:none;">
            <h2>Meu Perfil</h2>
            <div class="card">
                <p>Nome:</p>
                <input type="text" id="user-name" value="Estudante" style="width:100%; padding:10px; border-radius:10px; margin-bottom:10px;">
                <p>Mudar Pet:</p>
                <select id="pet-select" style="width:100%; padding:10px; border-radius:10px;">
                    <option value="orange">Gato Laranja</option>
                    <option value="gray">Gato Cinza</option>
                </select>
            </div>
            <button class="btn-main" onclick="toggleDark()" style="background: #2d2d2d;">Modo Escuro</button>
        </div>

        <nav>
            <div class="nav-item active-tab" onclick="changeTab('home', this)">üè†<span>IN√çCIO</span></div>
            <div class="nav-item" onclick="changeTab('learn', this)">üéØ<span>PRATICAR</span></div>
            <div class="nav-item" onclick="changeTab('diary', this)">üìì<span>DI√ÅRIO</span></div>
            <div class="nav-item" onclick="changeTab('profile', this)">üë§<span>PERFIL</span></div>
        </nav>
    </div>

    <script>
        const courses = [
            { id: 'it-en', n: 'Italiano ‚ûî Ingl√™s', f: 'üáÆüáπ' },
            { id: 'en-it', n: 'Ingl√™s ‚ûî Italiano', f: 'üá¨üáß' },
            { id: 'pt-it', n: 'Portugu√™s ‚ûî Italiano', f: 'üáßüá∑' },
            { id: 'it-pt', n: 'Italiano ‚ûî Portugu√™s', f: 'üáÆüáπ' },
            { id: 'pt-en', n: 'Portugu√™s ‚ûî Ingl√™s', f: 'üáßüá∑' },
            { id: 'en-pt', n: 'Ingl√™s ‚ûî Portugu√™s', f: 'üá¨üáß' }
        ];

        const translations = {
            'it-en': { welcome: "Welcome!", learn: "Learn", mission: "Daily Quests", diary: "Diary", pet: "Let's go!", level: "Nomad" },
            'pt-it': { welcome: "Benvenuti!", learn: "Impara", mission: "Missioni", diary: "Diario", pet: "Andiamo!", level: "Nomade" }
        };

        const quizData = {
            'it-en': [
                { q: "Translate: 'Buongiorno'", o: ["Good Morning", "Good Night", "Hi"], a: "Good Morning" },
                { q: "How do you say 'Water'?", o: ["Acqua", "Vino", "Pane"], a: "Acqua" }
            ]
        };

        const exData = [
            { type: 'choice', q: 'Qual a tradu√ß√£o de "Caff√®"?', o: ['Coffee', 'Milk', 'Tea'], a: 'Coffee' },
            { type: 'write', q: 'Escreva "Gato" em Italiano', a: 'gatto' }
        ];

        let state = { course: '', xp: 20, lvl: 1, name: 'Estudante', score: 0, qStep: 0 };

        window.onload = () => {
            const list = document.getElementById('course-list');
            courses.forEach(c => {
                list.innerHTML += `<button class="btn-course" onclick="startQuizz('${c.id}')">${c.f} ${c.n}</button>`;
            });
        };

        function startQuizz(id) {
            state.course = id;
            document.getElementById('screen-intro').classList.remove('active');
            document.getElementById('screen-quizz').classList.add('active');
            loadQuiz();
        }

        function loadQuiz() {
            const qSet = quizData[state.course] || quizData['it-en'];
            const q = qSet[state.qStep];
            if(!q) { finishQuiz(); return; }

            document.getElementById('quiz-question').innerText = q.q;
            const optDiv = document.getElementById('quiz-options');
            optDiv.innerHTML = '';
            q.o.forEach(o => {
                optDiv.innerHTML += `<button class="btn-main" style="margin-bottom:10px" onclick="nextQ('${o}','${q.a}')">${o}</button>`;
            });
        }

        function nextQ(o, a) {
            if(o === a) state.score++;
            state.qStep++;
            loadQuiz();
        }

        function finishQuiz() {
            document.getElementById('screen-quizz').classList.remove('active');
            document.getElementById('screen-app').classList.add('active');
            document.getElementById('floating-pet').style.display = 'flex';
            
            // L√≥gica de t√≠tulos
            const titles = ["N√¥made \"A1\"", "Viajante \"A2\"", "Explorador \"B1\"", "Piloto \"B2\"", "Mestre \"C1\"", "Nativo \"C2\""];
            document.getElementById('lvl-title').innerText = titles[state.score] || titles[0];
            
            updateUI();
            loadExercise();
        }

        function loadExercise() {
            const box = document.getElementById('exercise-box');
            const ex = exData[0]; // Simplificado para ver
            let html = `<p style="font-weight:900; margin-bottom:15px;">${ex.q}</p>`;
            if(ex.type === 'choice') {
                ex.o.forEach(o => html += `<button class="btn-course" style="border:2px solid #eee" onclick="checkEx('${o}','${ex.a}')">${o}</button>`);
            }
            box.innerHTML = html;
        }

        function checkEx(o, a) {
            if(o === a) {
                alert("Slay! ‚ú® +10 XP");
                state.xp += 10;
            } else {
                alert("No cap, errou! Era: " + a);
            }
            updateUI();
        }

        function updateUI() {
            const t = translations[state.course] || translations['it-en'];
            document.getElementById('pet-msg').innerText = t.pet;
            document.getElementById('xp-bar').style.width = state.xp + '%';
            document.getElementById('xp-val').innerText = state.xp;
        }

        function changeTab(tabId, el) {
            document.querySelectorAll('.tab-content').forEach(t => t.style.display = 'none');
            document.getElementById('tab-' + tabId).style.display = 'block';
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active-tab'));
            el.classList.add('active-tab');
        }

        function saveDiary() { alert("Notas salvas no seu Di√°rio, Ana!"); }
        function toggleDark() { document.body.style.filter = document.body.style.filter === 'invert(1)' ? 'none' : 'invert(1)'; }
    </script>
</body>
</html>
