<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planicchio</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --p-orange: #ff7a00; --p-soft: #fff5eb; --p-text: #2d2d2d; --p-white: #ffffff; }
        .dark-mode { --p-orange: #ff9500; --p-soft: #333; --p-text: #f0f0f0; --p-white: #1a1a1a; }
        
        * { margin:0; padding:0; box-sizing:border-box; font-family:'Nunito', sans-serif; }
        body { background: var(--p-white); color: var(--p-text); transition: 0.3s; }

        /* --- PETS CORRIGIDOS (OLHOS VIS√çVEIS) --- */
        .pet-canvas { width: 60px; height: 50px; position: relative; margin: 0 auto; }
        .pet-body { width: 100%; height: 100%; border-radius: 50% 50% 40% 40%; position: relative; border: 2px solid #fff; z-index: 1; }
        .pet-ear { position: absolute; width: 15px; height: 15px; top: -8px; z-index: 0; }
        
        /* Olho com brilho para ser vis√≠vel em qualquer cor */
        .pet-eye { width: 10px; height: 10px; background: white; border-radius: 50%; position: absolute; top: 15px; border: 1px solid #000; z-index: 10; }
        .pet-eye::after { content: ''; width: 4px; height: 4px; background: black; border-radius: 50%; position: absolute; top: 2px; left: 2px; }
        .eye-l { left: 12px; } .eye-r { right: 12px; }
        .pet-nose { width: 8px; height: 5px; background: #ffb3b3; border-radius: 50%; position: absolute; top: 28px; left: 26px; z-index: 10; border: 1px solid rgba(0,0,0,0.1); }

        .cat .pet-body { background: #ff9500; }
        .cat .ear-l { left: 5px; border-left: 10px solid transparent; border-right: 10px solid transparent; border-bottom: 15px solid #ff9500; transform: rotate(-20deg); }
        .cat .ear-r { right: 5px; border-left: 10px solid transparent; border-right: 10px solid transparent; border-bottom: 15px solid #ff9500; transform: rotate(20deg); }
        .dog .pet-body { background: #8b4513; }
        .dog .ear-l { left: -5px; width: 14px; height: 22px; background: #8b4513; border-radius: 10px; top: 5px; }
        .dog .ear-r { right: -5px; width: 14px; height: 22px; background: #8b4513; border-radius: 10px; top: 5px; }

        /* --- INTERFACE --- */
        .screen { display: none; min-height: 100vh; padding: 20px; flex-direction: column; }
        .active { display: flex; animation: fadeIn 0.4s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .btn-course { background: white; color: var(--p-orange); border: none; padding: 18px; border-radius: 20px; width: 100%; margin-bottom: 10px; font-weight: 900; box-shadow: 0 4px 0 rgba(0,0,0,0.1); cursor: pointer; }
        .btn-main { background: var(--p-orange); color: white; border: none; padding: 15px; border-radius: 15px; width: 100%; font-weight: 900; cursor: pointer; box-shadow: 0 4px 0 #d36500; margin-top: 10px; }
        .card { background: var(--p-soft); border-radius: 25px; padding: 20px; margin-bottom: 15px; }
        
        nav { position: fixed; bottom: 0; left: 0; width: 100%; background: var(--p-white); display: flex; justify-content: space-around; padding: 10px; border-top: 2px solid #eee; }
        .nav-item { text-align: center; color: #ccc; cursor: pointer; flex: 1; font-size: 22px; }
        .nav-item span { display: block; font-size: 9px; font-weight: 900; }
        .nav-active { color: var(--p-orange); }

        #floating-pet { position: fixed; bottom: 85px; right: 15px; z-index: 200; display: none; align-items: center; }
        .bubble { background: white; border: 2px solid var(--p-orange); padding: 5px 10px; border-radius: 15px; font-size: 11px; font-weight: 800; margin-right: 5px; color: #000; }
    </style>
</head>
<body>

    <div id="screen-intro" class="screen active" style="background: var(--p-orange); justify-content: center; align-items: center;">
        <h1 style="color: white; font-weight: 900; margin-bottom: 30px; font-size: 32px;">Planicchio</h1>
        <div style="width: 100%; max-width: 320px;">
            <button class="btn-course" onclick="startFlow('it-en')">Italiano ‚ûî Inglese</button>
            <button class="btn-course" onclick="startFlow('it-pt')">Italiano ‚ûî Portoghese</button>
            <button class="btn-course" onclick="startFlow('pt-it')">Portugu√™s ‚ûî Italiano</button>
            <button class="btn-course" onclick="startFlow('pt-en')">Portugu√™s ‚ûî Ingl√™s</button>
            <button class="btn-course" onclick="startFlow('en-it')">English ‚ûî Italian</button>
            <button class="btn-course" onclick="startFlow('en-pt')">English ‚ûî Portuguese</button>
        </div>
    </div>

    <div id="screen-quiz" class="screen">
        <h2 id="qz-title" style="text-align: center; color: var(--p-orange);">Quiz</h2>
        <div class="card" style="text-align: center; margin-top: 30px;">
            <p id="qz-question" style="font-size: 20px; font-weight: 900; margin-bottom: 20px;"></p>
            <div id="qz-options"></div>
        </div>
    </div>

    <div id="screen-app" class="screen">
        <div id="tab-home" class="tab-content">
            <h2 id="ui-h-title">...</h2>
            <div class="card" style="margin-top:10px;">
                <h3 id="ui-rank">A1</h3>
                <div style="background:#fff; height:8px; border-radius:10px; margin:10px 0; overflow:hidden;"><div id="xp-bar" style="background:var(--p-orange); width:15%; height:100%;"></div></div>
            </div>
            <div class="card">
                <h4 id="ui-miss-d">Miss√µes Di√°rias</h4>
                <p>‚úÖ <span id="ui-d1">...</span></p>
            </div>
            <div class="card" style="background:#e6f7ff;">
                <h4 id="ui-miss-w">Miss√µes Semanais</h4>
                <p>üèÜ <span id="ui-w1">...</span></p>
            </div>
            <div style="display:flex; gap:10px;">
                <button class="btn-main" style="background:#58cc02; box-shadow:0 4px 0 #3d8b02; flex:1;">Speed</button>
                <button class="btn-main" style="flex:1;">Memory</button>
            </div>
        </div>

        <div id="tab-tips" class="tab-content" style="display:none;">
            <h2 id="ui-t-title">...</h2>
            <div id="content-area" style="margin-top:15px;"></div>
        </div>

        <div id="tab-dict" class="tab-content" style="display:none;">
            <h2 id="ui-d-title">...</h2>
            <input type="text" id="dict-in" style="width:100%; padding:12px; border-radius:12px; border:1px solid #ddd; margin-top:10px;">
        </div>

        <div id="tab-social" class="tab-content" style="display:none;">
            <h2 id="ui-s-title">...</h2>
            <div class="card" style="margin-top:15px;"><p>Community Feed...</p></div>
        </div>

        <div id="tab-profile" class="tab-content" style="display:none;">
            <h2 id="ui-p-title">...</h2>
            <div class="card">
                <label id="ui-name-l">...</label><input type="text" value="Ana" style="width:100%; padding:8px; margin-bottom:10px;">
                <label id="ui-pet-l">...</label>
                <select id="pet-select" onchange="updatePetUI()" style="width:100%; padding:8px; margin-bottom:10px;">
                    <option value="cat">Cat / Gatto / Gato</option>
                    <option value="dog">Dog / Cane / C√£o</option>
                </select>
                <button class="btn-main" id="ui-save-btn">...</button>
                <button class="btn-main" style="background:#444;" onclick="toggleDark()">Dark Mode</button>
                <button class="btn-main" style="background:#666;" onclick="location.reload()">Change Course</button>
            </div>
        </div>

        <nav>
            <div class="nav-item nav-active" onclick="changeTab('home', this)">üè†<span id="nv-1"></span></div>
            <div class="nav-item" onclick="changeTab('tips', this)">üí°<span id="nv-2"></span></div>
            <div class="nav-item" onclick="changeTab('dict', this)">üìñ<span id="nv-3"></span></div>
            <div class="nav-item" onclick="changeTab('social', this)">ü§ù<span id="nv-4"></span></div>
            <div class="nav-item" onclick="changeTab('profile', this)">üë§<span id="nv-5"></span></div>
        </nav>
    </div>

    <div id="floating-pet">
        <div class="bubble" id="pet-msg">...</div>
        <div id="pet-render" class="pet-canvas cat">
            <div class="pet-ear ear-l"></div><div class="pet-ear ear-r"></div>
            <div class="pet-body">
                <div class="pet-eye eye-l"></div><div class="pet-eye eye-r"></div>
                <div class="pet-nose"></div>
            </div>
        </div>
    </div>

    <script>
        const translations = {
            'pt-it': {
                nv: ['IN√çCIO', 'ESTUDO', 'DICIO', 'SOCIAL', 'EU'],
                ui: { h:'In√≠cio', t:'Estudo', d:'Dicion√°rio', s:'Social', p:'Perfil', r:'N√¥made A1', md:'Miss√µes Di√°rias', d1:'Pratique 5 min', mw:'Semanais', w1:'Estude 3 dias', name:'Nome:', pet:'Pet:', save:'Salvar', qz:'Nivelamento' },
                pet: 'Bora!',
                quiz: [{q:"Oi em Italiano?", o:["Ciao", "Hi"], a:"Ciao"}],
                content: ["Buongiorno = Bom dia", "Grazie = Obrigado", "Prego = De nada"]
            },
            'it-en': {
                nv: ['HOME', 'STUDY', 'DICT', 'SOCIAL', 'ME'],
                ui: { h:'Home', t:'Study', d:'Dictionary', s:'Social', p:'Profile', r:'Nomad A1', md:'Daily Tasks', d1:'5 min practice', mw:'Weekly', w1:'3 days streak', name:'Name:', pet:'Pet:', save:'Save', qz:'Leveling' },
                pet: 'Let\'s go!',
                quiz: [{q:"'Apple' in Italian?", o:["Mela", "Apple"], a:"Mela"}],
                content: ["Apple = Mela", "Bread = Pane", "Water = Acqua"]
            },
            'en-it': {
                nv: ['HOME', 'STUDY', 'DICT', 'SOCIAL', 'PROFILE'],
                ui: { h:'Home', t:'Study', d:'Dictionary', s:'Social', p:'Profile', r:'Nomad A1', md:'Daily Tasks', d1:'5 min practice', mw:'Weekly', w1:'3 days streak', name:'Name:', pet:'Pet:', save:'Save', qz:'Leveling' },
                pet: 'Ready?',
                quiz: [{q:"'Thank you'?", o:["Grazie", "Prego"], a:"Grazie"}],
                content: ["Hello = Ciao", "Please = Per favore", "Coffee = Caff√®"]
            }
        };

        let currentLang = 'pt-it';

        function startFlow(id) {
            currentLang = translations[id] ? id : 'it-en';
            document.getElementById('screen-intro').style.display = 'none';
            document.getElementById('screen-quiz').classList.add('active');
            const q = translations[currentLang].quiz[0];
            document.getElementById('qz-title').innerText = translations[currentLang].ui.qz;
            document.getElementById('qz-question').innerText = q.q;
            const opts = document.getElementById('qz-options');
            opts.innerHTML = '';
            q.o.forEach(o => opts.innerHTML += `<button class="btn-course" onclick="enterApp()">${o}</button>`);
        }

        function enterApp() {
            document.getElementById('screen-quiz').classList.remove('active');
            document.getElementById('screen-app').classList.add('active');
            document.getElementById('floating-pet').style.display = 'flex';
            const d = translations[currentLang];
            // Nav
            for(let i=1; i<=5; i++) document.getElementById(`nv-${i}`).innerText = d.nv[i-1];
            // UI
            document.getElementById('ui-h-title').innerText = d.ui.h;
            document.getElementById('ui-t-title').innerText = d.ui.t;
            document.getElementById('ui-d-title').innerText = d.ui.d;
            document.getElementById('ui-s-title').innerText = d.ui.s;
            document.getElementById('ui-p-title').innerText = d.ui.p;
            document.getElementById('ui-rank').innerText = d.ui.r;
            document.getElementById('ui-miss-d').innerText = d.ui.md;
            document.getElementById('ui-d1').innerText = d.ui.d1;
            document.getElementById('ui-miss-w').innerText = d.ui.mw;
            document.getElementById('ui-w1').innerText = d.ui.w1;
            document.getElementById('ui-name-l').innerText = d.ui.name;
            document.getElementById('ui-pet-l').innerText = d.ui.pet;
            document.getElementById('ui-save-btn').innerText = d.ui.save;
            document.getElementById('pet-msg').innerText = d.pet;
            
            // Content
            const area = document.getElementById('content-area');
            area.innerHTML = '';
            d.content.forEach(c => area.innerHTML += `<div class="card">${c}</div>`);
        }

        function changeTab(id, el) {
            document.querySelectorAll('.tab-content').forEach(t => t.style.display = 'none');
            document.getElementById('tab-'+id).style.display = 'block';
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('nav-active'));
            el.classList.add('nav-active');
        }

        function updatePetUI() {
            const p = document.getElementById('pet-select').value;
            document.getElementById('pet-render').className = `pet-canvas ${p}`;
        }
        function toggleDark() { document.body.classList.toggle('dark-mode'); }
    </script>
</body>
</html>
