<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Planicchio</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:Arial;background:#fff7ed;margin:0;padding:20px}
.card{background:white;padding:16px;border-radius:14px;margin-bottom:16px}
.hidden{display:none}
h1,h2{text-align:center}
.progress-bar{height:12px;background:#fde68a;border-radius:10px;overflow:hidden}
.progress{height:100%;width:0%;background:#fb923c;transition:width .3s}
.mission{font-size:14px;margin:6px 0}
button{width:100%;padding:10px;margin-top:8px;border:none;border-radius:10px;background:#fb923c;color:white;font-size:16px}
select,input{width:100%;padding:8px;margin-bottom:10px}
.question{font-weight:bold;margin-bottom:12px;font-size:17px}
.notice{font-size:14px;opacity:.8}
</style>
</head>

<body>

<div id="start" class="card">
<h1>PLANICCHIO ğŸ±</h1>

<select id="course">
<option value="it-en">Italiano â†’ English</option>
<option value="it-pt">Italiano â†’ PortuguÃªs</option>
<option value="pt-it">PortuguÃªs â†’ Italiano</option>
<option value="pt-en">PortuguÃªs â†’ English</option>
<option value="en-it">English â†’ Italiano</option>
<option value="en-pt">English â†’ PortuguÃªs</option>
</select>

<select id="level">
<option>A1</option><option>A2</option>
<option>B1</option><option>B2</option>
<option>C1</option><option>C2</option>
</select>

<button onclick="start()">Start</button>
</div>

<div id="app" class="hidden">

<div class="card">
<h2 id="levelLabel"></h2>
<div class="progress-bar"><div class="progress" id="progress"></div></div>
<p id="xpLabel"></p>
</div>

<div class="card">
<h3 id="missionTitle"></h3>
<div class="mission" id="m1"></div>
<div class="mission" id="m2"></div>
<div class="mission" id="m3"></div>
</div>

<div class="card">
<div id="prompt" class="question"></div>
<div id="notice" class="notice"></div>

<button id="o1" onclick="success()"></button>
<button id="o2" onclick="success()"></button>
</div>

</div>

<script>
let xp=Number(localStorage.getItem("xp"))||0
let index=0,list=[]

const i18n={
"it":{level:"Livello",xp:"XP",missions:"Missioni giornaliere",
m1:"Completa 3 esercizi",m2:"Rispondi correttamente 2 volte",m3:"Studia oggi",
no:"Nessun esercizio per questo livello"},
"pt":{level:"NÃ­vel",xp:"XP",missions:"MissÃµes diÃ¡rias",
m1:"Complete 3 exercÃ­cios",m2:"Acerte 2 seguidas",m3:"Estude hoje",
no:"Ainda nÃ£o hÃ¡ exercÃ­cios neste nÃ­vel"},
"en":{level:"Level",xp:"XP",missions:"Daily missions",
m1:"Complete 3 exercises",m2:"Answer correctly twice",m3:"Study today",
no:"No exercises for this level"}
}

const exercises=[
{c:"it-en",l:"A1",q:"Come si dice 'Ciao' in inglese?",a:"Hello"},
{c:"it-en",l:"A1",q:"Come si dice 'Grazie' in inglese?",a:"Thank you"},
{c:"it-en",l:"A2",q:"Traduci: Sto lavorando",a:"I am working"},
{c:"it-en",l:"B1",q:"Traduci: Vivo in Italia",a:"I live in Italy"},
{c:"it-en",l:"B2",q:"Situazione: ordinare al ristorante",a:"I would like to order"},
{c:"it-en",l:"C1",q:"Traduci: esperienza professionale",a:"Professional experience"},

{c:"pt-it",l:"A1",q:"Como se diz OlÃ¡ em italiano?",a:"Ciao"},
{c:"pt-it",l:"A2",q:"Traduza: Bom dia",a:"Buongiorno"},
{c:"pt-it",l:"B1",q:"Traduza: Eu moro aqui",a:"Io vivo qui"},
{c:"pt-it",l:"B2",q:"SituaÃ§Ã£o: pedir informaÃ§Ã£o",a:"Scusi, dov'Ã¨"},
{c:"pt-it",l:"C1",q:"Traduza: experiÃªncia profissional",a:"Esperienza professionale"},

{c:"pt-en",l:"A1",q:"Como se diz OlÃ¡ em inglÃªs?",a:"Hello"},
{c:"pt-en",l:"A2",q:"Traduza: Eu trabalho",a:"I work"},
{c:"pt-en",l:"B1",q:"Traduza: Estou estudando",a:"I am studying"},
{c:"pt-en",l:"B2",q:"SituaÃ§Ã£o: entrevista",a:"I have experience"},
{c:"pt-en",l:"C1",q:"Traduza: desenvolvimento profissional",a:"Professional development"}
]

function langFromCourse(c){
if(c.startsWith("it")) return "it"
if(c.startsWith("pt")) return "pt"
return "en"
}

function start(){
const c=course.value
const l=level.value
const lang=langFromCourse(c)
const t=i18n[lang]

levelLabel.innerText=`${t.level}`
xpLabel.innerText=`${t.xp}: ${xp}`
missionTitle.innerText=t.missions
m1.innerText=t.m1
m2.innerText=t.m2
m3.innerText=t.m3

list=exercises.filter(e=>e.c===c && e.l===l)
index=0

start.classList.add("hidden")
app.classList.remove("hidden")

show(t)
}

function show(t){
if(list.length===0){
prompt.innerText=t.no
o1.style.display="none"
o2.style.display="none"
return
}
const e=list[index%list.length]
prompt.innerText=e.q
o1.innerText=e.a
o2.innerText="âŒ"
}

function success(){
xp+=10
localStorage.setItem("xp",xp)
index++
show(i18n.en)
}
</script>

</body>
</html>
