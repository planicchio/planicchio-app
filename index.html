<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planicchio</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --p-orange: #ff7a00; --p-soft: #fff5eb; --p-text: #2d2d2d; --p-white: #ffffff; }
        .dark-mode { --p-orange: #ff9500; --p-soft: #2d2d2d; --p-text: #f0f0f0; --p-white: #1a1a1a; }
        
        * { margin:0; padding:0; box-sizing:border-box; font-family:'Nunito', sans-serif; transition: 0.3s; }
        body { background: var(--p-white); color: var(--p-text); overflow-x: hidden; }

        /* --- PETS COM ROSTO E DETALHES --- */
        .pet-canvas { width: 60px; height: 50px; position: relative; margin: 0 auto; }
        .pet-body { width: 100%; height: 100%; border-radius: 50% 50% 40% 40%; position: relative; border: 2px solid #fff; }
        .pet-ear { position: absolute; width: 15px; height: 15px; top: -8px; }
        .pet-eye { width: 6px; height: 6px; background: #000; border-radius: 50%; position: absolute; top: 18px; }
        .pet-nose { width: 6px; height: 4px; background: #ffb3b3; border-radius: 50%; position: absolute; top: 28px; left: 27px; }
        
        .cat .pet-body { background: #ff9500; }
        .cat .ear-l { left: 5px; border-left: 10px solid transparent; border-right: 10px solid transparent; border-bottom: 15px solid #ff9500; transform: rotate(-20deg); }
        .cat .ear-r { right: 5px; border-left: 10px solid transparent; border-right: 10px solid transparent; border-bottom: 15px solid #ff9500; transform: rotate(20deg); }

        .dog .pet-body { background: #8b4513; }
        .dog .ear-l { left: -5px; width: 12px; height: 20px; background: #8b4513; border-radius: 10px; top: 5px; }
        .dog .ear-r { right: -5px; width: 12px; height: 20px; background: #8b4513; border-radius: 10px; top: 5px; }

        /* --- INTERFACE --- */
        .screen { display: none; min-height: 100vh; padding: 20px; flex-direction: column; }
        .active { display: flex; animation: fadeIn 0.4s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .btn-course { background: white; color: var(--p-orange); border: none; padding: 18px; border-radius: 25px; width: 100%; margin-bottom: 10px; font-weight: 900; box-shadow: 0 5px 0 rgba(0,0,0,0.1); cursor: pointer; }
        .btn-main { background: var(--p-orange); color: white; border: none; padding: 15px; border-radius: 18px; width: 100%; font-weight: 900; cursor: pointer; box-shadow: 0 4px 0 #d36500; margin-top: 10px; }
        .card { background: var(--p-soft); border-radius: 25px; padding: 20px; margin-bottom: 15px; }
        
        nav { position: fixed; bottom: 0; left: 0; width: 100%; background: var(--p-white); display: flex; justify-content: space-around; padding: 12px; border-top: 2px solid #eee; z-index: 100; }
        .nav-item { text-align: center; color: #ccc; cursor: pointer; flex: 1; }
        .nav-item span { display: block; font-size: 9px; font-weight: 900; margin-top: 4px; }
        .nav-active { color: var(--p-orange); }

        #floating-pet { position: fixed; bottom: 90px; right: 15px; z-index: 200; display: none; align-items: center; }
        .bubble { background: white; border: 2px solid var(--p-orange); padding: 6px 12px; border-radius: 15px; font-size: 11px; font-weight: 800; margin-right: 8px; color: #000; }
    </style>
</head>
<body>

    <div id="screen-intro" class="screen active" style="background: var(--p-orange); justify-content: center; align-items: center;">
        <h1 style="color: white; font-weight: 900; margin-bottom: 30px; font-size: 32px;">Planicchio</h1>
        <div style="width: 100%; max-width: 320px;">
            <button class="btn-course" onclick="startFlow('it-en')">Italiano ‚ûî Inglese</button>
            <button class="btn-course" onclick="startFlow('it-pt')">Italiano ‚ûî Portoghese</button>
            <button class="btn-course" onclick="startFlow('pt-it')">Portugu√™s ‚ûî Italiano</button>
            <button class="btn-course" onclick="startFlow('pt-en')">Portugu√™s ‚ûî Ingl√™s</button>
            <button class="btn-course" onclick="startFlow('en-it')">English ‚ûî Italian</button>
            <button class="btn-course" onclick="startFlow('en-pt')">English ‚ûî Portuguese</button>
        </div>
    </div>

    <div id="screen-quiz" class="screen">
        <h2 id="qz-title" style="text-align: center; color: var(--p-orange);">Nivelamento</h2>
        <div class="card" style="text-align: center; margin-top: 30px;">
            <p id="qz-question" style="font-size: 20px; font-weight: 900; margin: 20px 0;"></p>
            <div id="qz-options"></div>
        </div>
    </div>

    <div id="screen-app" class="screen">
        
        <div id="tab-home" class="tab-content">
            <h2 id="ui-h-title">In√≠cio</h2>
            <div class="card" style="margin-top:15px;">
                <h3 id="ui-rank">A1</h3>
                <div style="background:#fff; height:10px; border-radius:10px; margin:10px 0; overflow:hidden;"><div id="xp-bar" style="background:var(--p-orange); width:20%; height:100%;"></div></div>
                <p id="ui-xp-txt">XP: 20/100</p>
            </div>
            <div class="card" style="background: #e6f7ff;">
                <h4 id="ui-miss-w">Miss√µes Semanais</h4>
                <p>üèÜ <span id="ui-m1">Estudar 3 dias</span></p>
            </div>
            <h4 style="margin: 10px 0;">Minigames üïπÔ∏è</h4>
            <div style="display:flex; gap:10px;">
                <button class="btn-main" style="background:#58cc02; box-shadow:0 4px 0 #3d8b02; flex:1;">Speed</button>
                <button class="btn-main" style="flex:1;">Memory</button>
            </div>
        </div>

        <div id="tab-tips" class="tab-content" style="display:none;">
            <h2 id="ui-t-title">Dicas</h2>
            <div class="card" style="margin-top:20px;"><p id="ui-tip-txt">Dica do dia...</p></div>
        </div>

        <div id="tab-dict" class="tab-content" style="display:none;">
            <h2 id="ui-d-title">Dicion√°rio</h2>
            <input type="text" placeholder="..." style="width:100%; padding:12px; border-radius:10px; margin-top:15px;">
        </div>

        <div id="tab-social" class="tab-content" style="display:none;">
            <h2 id="ui-s-title">Social</h2>
            <div class="card" style="margin-top:20px;"><p>Comunidade Planicchio ü§å</p></div>
        </div>

        <div id="tab-profile" class="tab-content" style="display:none;">
            <h2 id="ui-p-title">Perfil</h2>
            <div class="card">
                <label id="ui-name-l">Nome:</label>
                <input type="text" id="user-name" value="Ana" style="width:100%; padding:8px; margin-bottom:10px;">
                <label id="ui-pet-l">Pet:</label>
                <select id="pet-select" onchange="updatePetUI()" style="width:100%; padding:8px; margin-bottom:10px;">
                    <option value="cat">Gato / Cat</option>
                    <option value="dog">C√£o / Dog</option>
                </select>
                <textarea id="diary-text" style="width:100%; height:60px; margin-bottom:10px;"></textarea>
                <button class="btn-main" onclick="alert('Salvo!')" id="ui-save-btn">Salvar</button>
                <button class="btn-main" style="background:#444;" onclick="toggleDark()">Modo Escuro</button>
                <button class="btn-main" style="background:#666;" onclick="location.reload()">Mudar Curso</button>
            </div>
        </div>

        <nav>
            <div class="nav-item nav-active" onclick="changeTab('home', this)">üè†<span id="nv-1">IN√çCIO</span></div>
            <div class="nav-item" onclick="changeTab('tips', this)">üí°<span id="nv-2">DICAS</span></div>
            <div class="nav-item" onclick="changeTab('dict', this)">üìñ<span id="nv-3">DICT</span></div>
            <div class="nav-item" onclick="changeTab('social', this)">ü§ù<span id="nv-4">SOCIAL</span></div>
            <div class="nav-item" onclick="changeTab('profile', this)">üë§<span id="nv-5">PERFIL</span></div>
        </nav>
    </div>

    <div id="floating-pet">
        <div class="bubble" id="pet-msg">...</div>
        <div id="pet-render" class="pet-canvas cat">
            <div class="pet-ear ear-l"></div><div class="pet-ear ear-r"></div>
            <div class="pet-body"><div class="pet-eye eye-l"></div><div class="pet-eye eye-r"></div><div class="pet-nose"></div></div>
        </div>
    </div>

    <script>
        const langPack = {
            'it-en': {
                nv: ['HOME', 'TIPS', 'DICT', 'SOCIAL', 'PROFILE'],
                ui: { h: 'Home', r: 'Nomad "A1"', mw: 'Weekly Missions', m1: 'Study 3 days', name: 'Name:', pet: 'Pet Assistant:', save: 'Save Diary', tips: 'Cultural Tips', dict: 'Dictionary', social: 'Community', profile: 'Profile', qz: 'Leveling' },
                pet: 'Let\'s study!',
                quiz: [
                    { q: "Translate: 'Buongiorno'", o: ['Good Morning', 'Good Night'], a: 'Good Morning' },
                    { q: "What is 'Gatto'?", o: ['Cat', 'Dog'], a: 'Cat' },
                    { q: "Water is...", o: ['Acqua', 'Vino'], a: 'Acqua' }
                ]
            },
            'pt-it': {
                nv: ['IN√çCIO', 'DICAS', 'DICIO', 'SOCIAL', 'PERFIL'],
                ui: { h: 'In√≠cio', r: 'N√¥made "A1"', mw: 'Miss√µes Semanais', m1: 'Estudar 3 dias', name: 'Nome:', pet: 'Pet Assistente:', save: 'Salvar Di√°rio', tips: 'Dicas Culturais', dict: 'Dicion√°rio', social: 'Comunidade', profile: 'Perfil', qz: 'Nivelamento' },
                pet: 'Vamos l√°!',
                quiz: [
                    { q: "Como se diz 'Oi'?", o: ['Ciao', 'Prego'], a: 'Ciao' },
                    { q: "O que √© 'Gatto'?", o: ['Gato', 'C√£o'], a: 'Gato' },
                    { q: "√Ågua em italiano?", o: ['Acqua', 'Vinho'], a: 'Acqua' }
                ]
            }
        };

        let state = { course: 'pt-it', step: 0 };

        function startFlow(id) {
            state.course = id;
            document.getElementById('screen-intro').style.display = 'none';
            document.getElementById('screen-quiz').classList.add('active');
            loadQuiz();
        }

        function loadQuiz() {
            const d = langPack[state.course] || langPack['it-en'];
            const q = d.quiz[state.step];
            document.getElementById('qz-title').innerText = d.ui.qz;
            document.getElementById('qz-question').innerText = q.q;
            const optDiv = document.getElementById('qz-options');
            optDiv.innerHTML = '';
            q.o.forEach(o => { optDiv.innerHTML += `<button class="btn-course" style="background:#eee" onclick="nextQuiz()">${o}</button>`; });
        }

        function nextQuiz() {
            state.step++;
            if(state.step < 3) loadQuiz();
            else {
                document.getElementById('screen-quiz').classList.remove('active');
                document.getElementById('screen-app').classList.add('active');
                document.getElementById('floating-pet').style.display = 'flex';
                applyTranslations();
            }
        }

        function applyTranslations() {
            const d = langPack[state.course] || langPack['it-en'];
            document.getElementById('nv-1').innerText = d.nv[0];
            document.getElementById('nv-2').innerText = d.nv[1];
            document.getElementById('nv-3').innerText = d.nv[2];
            document.getElementById('nv-4').innerText = d.nv[3];
            document.getElementById('nv-5').innerText = d.nv[4];
            document.getElementById('ui-h-title').innerText = d.ui.h;
            document.getElementById('ui-t-title').innerText = d.ui.tips;
            document.getElementById('ui-d-title').innerText = d.ui.dict;
            document.getElementById('ui-s-title').innerText = d.ui.social;
            document.getElementById('ui-p-title').innerText = d.ui.profile;
            document.getElementById('ui-rank').innerText = d.ui.r;
            document.getElementById('ui-miss-w').innerText = d.ui.mw;
            document.getElementById('ui-m1').innerText = d.ui.m1;
            document.getElementById('pet-msg').innerText = d.pet;
        }

        function changeTab(tabId, el) {
            document.querySelectorAll('.tab-content').forEach(t => t.style.display = 'none');
            document.getElementById('tab-' + tabId).style.display = 'block';
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('nav-active'));
            el.classList.add('nav-active');
        }

        function updatePetUI() {
            const p = document.getElementById('pet-select').value;
            document.getElementById('pet-render').className = `pet-canvas ${p}`;
        }

        function toggleDark() { document.body.classList.toggle('dark-mode'); }
    </script>
</body>
</html>
