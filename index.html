<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planicchio</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --p-orange: #ff7a00;
            --p-light-orange: #fff4e6;
            --p-white: #ffffff;
            --p-text: #2d2d2d;
            --p-gray: #f0f0f0;
        }

        * { margin:0; padding:0; box-sizing:border-box; font-family:'Nunito', sans-serif; }
        body { background: var(--p-white); color: var(--p-text); transition: 0.3s; }

        /* GATO CSS - DESIGN LARANJA */
        .cat-design {
            width: 80px; height: 65px; background: #ff9500; border-radius: 50% 50% 40% 40%;
            position: relative; border: 3px solid #fff; margin: 0 auto;
        }
        .cat-design::before, .cat-design::after { 
            content: ''; position: absolute; top: -12px; width: 0; height: 0;
            border-left: 12px solid transparent; border-right: 12px solid transparent; border-bottom: 20px solid #ff9500;
        }
        .cat-design::before { left: 5px; transform: rotate(-15deg); }
        .cat-design::after { right: 5px; transform: rotate(15deg); }
        .eyes { display: flex; justify-content: space-around; padding-top: 25px; }
        .eye { width: 10px; height: 10px; background: #2d2d2d; border-radius: 50%; }

        /* ANIMA√á√ÉO DAN√áA */
        .dance { animation: danceAnim 0.8s infinite alternate; }
        @keyframes danceAnim { from { transform: translateY(0) rotate(0); } to { transform: translateY(-20px) rotate(5deg); } }

        /* TELAS */
        .screen { display: none; min-height: 100vh; padding: 20px; animation: fadeIn 0.4s; }
        .active { display: flex; flex-direction: column; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .screen-orange { background: var(--p-orange); color: white; justify-content: center; align-items: center; }

        /* BOTOES E CARDS */
        .btn-course {
            background: white; color: var(--p-orange); border: none; padding: 18px;
            border-radius: 25px; width: 100%; max-width: 350px; margin-bottom: 12px;
            font-weight: 900; font-size: 18px; cursor: pointer; box-shadow: 0 5px 0 rgba(0,0,0,0.1);
        }
        .card { background: var(--p-light-orange); border-radius: 30px; padding: 20px; margin-bottom: 15px; }
        .btn-main { background: var(--p-orange); color: white; border: none; padding: 18px; border-radius: 20px; width: 100%; font-weight: 900; box-shadow: 0 4px 0 #d36500; cursor: pointer; }

        /* PET FLUTUANTE */
        #pet-fixed {
            position: fixed; bottom: 100px; right: 20px; z-index: 1000;
            display: none; flex-direction: column; align-items: flex-end;
        }
        .bubble { background: white; border: 2px solid var(--p-orange); padding: 8px 12px; border-radius: 15px; font-size: 12px; font-weight: 800; margin-bottom: 5px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }

        /* NAV */
        nav { position: fixed; bottom: 0; left: 0; width: 100%; background: white; display: flex; justify-content: space-around; padding: 15px; border-top: 2px solid var(--p-gray); }
        .nav-item { color: #ccc; text-align: center; cursor: pointer; font-size: 20px; }
        .nav-item span { display: block; font-size: 10px; font-weight: 900; }
        .nav-active { color: var(--p-orange); }

        /* DIARIO */
        #diary-area { width: 100%; height: 150px; border-radius: 20px; border: 2px solid var(--p-orange); padding: 15px; margin: 10px 0; font-size: 16px; }
    </style>
</head>
<body>

    <div id="screen-intro" class="screen screen-orange active">
        <div class="cat-design dance"><div class="eyes"><div class="eye"></div><div class="eye"></div></div></div>
        <h1 style="font-size: 40px; font-weight: 900; margin: 20px 0;">Planicchio</h1>
        <div id="course-list" style="width: 100%; display: flex; flex-direction: column; align-items: center;"></div>
    </div>

    <div id="screen-quiz" class="screen" style="background: white;">
        <div class="card" style="text-align: center;">
            <h2 id="quiz-title">Nivelamento</h2>
            <p id="quiz-q" style="font-size: 20px; margin: 20px 0; font-weight: 700;"></p>
            <div id="quiz-options"></div>
        </div>
    </div>

    <div id="screen-app" class="screen">
        <div id="tab-home" class="tab-content">
            <h2 style="font-weight: 900; color: var(--p-orange);">Planicchio</h2>
            <div class="card" style="margin-top: 20px;">
                <h3 id="user-rank">N√¥made [A1]</h3>
                <div style="background: #fff; height: 15px; border-radius: 10px; margin: 10px 0; overflow: hidden;">
                    <div id="xp-fill" style="background: var(--p-orange); width: 0%; height: 100%; transition: 0.5s;"></div>
                </div>
                <p style="font-weight: 800; font-size: 12px;">XP: <span id="xp-val">0</span>/100</p>
            </div>
            <div class="card">
                <h4 id="txt-missao">Miss√µes Di√°rias</h4>
                <p>‚ú® Complete 1 li√ß√£o de comida (+20 XP)</p>
            </div>
        </div>

        <div id="tab-learn" class="tab-content" style="display:none;">
            <h2 id="txt-praticar">Praticar</h2>
            <div id="ex-box" class="card" style="background: white; border: 3px solid var(--p-orange); margin-top: 20px;"></div>
        </div>

        <div id="tab-diary" class="tab-content" style="display:none;">
            <h2>Meu Di√°rio üìì</h2>
            <textarea id="diary-area" placeholder="Anote o que aprendeu..."></textarea>
            <button class="btn-main" onclick="saveNote()">Salvar no Di√°rio</button>
            <div id="saved-notes" style="margin-top: 20px; font-size: 14px; color: #666;"></div>
        </div>

        <div id="tab-profile" class="tab-content" style="display:none;">
            <h2>Perfil</h2>
            <div class="card">
                <label>Nome:</label>
                <input type="text" id="user-name" placeholder="Seu nome" style="width:100%; padding:10px; border-radius:10px; border:1px solid #ddd; margin-bottom:10px;">
                <label>Pet:</label>
                <select id="pet-color" style="width:100%; padding:10px; border-radius:10px;">
                    <option value="#ff9500">Gato Laranja</option>
                    <option value="#888">Gato Cinza</option>
                </select>
            </div>
            <button class="btn-main" onclick="toggleDark()" style="background: #2d2d2d;">Modo Escuro</button>
        </div>

        <nav>
            <div class="nav-item nav-active" onclick="changeTab('home', this)">üè†<span>HOME</span></div>
            <div class="nav-item" onclick="changeTab('learn', this)">üéØ<span>APRENDER</span></div>
            <div class="nav-item" onclick="changeTab('diary', this)">üìì<span>NOTAS</span></div>
            <div class="nav-item" onclick="changeTab('profile', this)">üë§<span>PERFIL</span></div>
        </nav>
    </div>

    <div id="pet-fixed">
        <div class="bubble" id="pet-talk">Slay! ‚ú®</div>
        <div class="cat-design" style="width: 50px; height: 40px; border-width: 2px;">
            <div class="eyes" style="padding-top: 15px;"><div class="eye" style="width:6px; height:6px;"></div><div class="eye" style="width:6px; height:6px;"></div></div>
        </div>
    </div>

    <script>
        const courses = [
            { id: 'it-en', n: 'Italiano ‚ûî Ingl√™s', f: 'üáÆüáπ' },
            { id: 'en-it', n: 'Ingl√™s ‚ûî Italiano', f: 'üá¨üáß' },
            { id: 'pt-it', n: 'Portugu√™s ‚ûî Italiano', f: 'üáßüá∑' },
            { id: 'it-pt', n: 'Italiano ‚ûî Portugu√™s', f: 'üáÆüáπ' },
            { id: 'pt-en', n: 'Portugu√™s ‚ûî Ingl√™s', f: 'üáßüá∑' },
            { id: 'en-pt', n: 'Ingl√™s ‚ûî Portugu√™s', f: 'üá¨üáß' }
        ];

        const langData = {
            'it-en': { title: 'Nivelamento', q: 'Come si dice "Hi"?', o: ['Hi', 'Bye', 'Water'], a: 'Hi', home: 'HOME', learn: 'LEARN', diary: 'DIARY', profile: 'ME', talk: 'Let\'s go!' },
            'en-it': { title: 'Placement', q: 'Translate: "Good Morning"', o: ['Buongiorno', 'Buonasera', 'Ciao'], a: 'Buongiorno', home: 'HOME', learn: 'PRACTICE', diary: 'NOTES', profile: 'PROFILE', talk: 'Amazing!' }
        };

        const ranks = ["N√¥made [A1]", "Viajante [A2]", "Explorador [B1]", "Piloto [B2]", "Mestre [C1]", "Poliglota [C2]"];

        let state = { course: '', score: 0, xp: 0, name: 'Ana' };

        window.onload = () => {
            const list = document.getElementById('course-list');
            courses.forEach(c => {
                list.innerHTML += `<button class="btn-course" onclick="initQuiz('${c.id}')">${c.f} ${c.n}</button>`;
            });
        };

        function initQuiz(id) {
            state.course = id;
            document.getElementById('screen-intro').classList.remove('active');
            document.getElementById('screen-quiz').classList.add('active');
            const data = langData[id] || langData['it-en'];
            document.getElementById('quiz-q').innerText = data.q;
            const optDiv = document.getElementById('quiz-options');
            optDiv.innerHTML = '';
            data.o.forEach(o => {
                optDiv.innerHTML += `<button class="btn-main" style="margin-bottom:10px" onclick="finishQuiz('${o}','${data.a}')">${o}</button>`;
            });
        }

        function finishQuiz(o, a) {
            if(o === a) state.score = 3; // Pula nivel
            document.getElementById('screen-quiz').classList.remove('active');
            document.getElementById('screen-app').classList.add('active');
            document.getElementById('pet-fixed').style.display = 'flex';
            translateInterface();
            updateUI();
            loadExercise();
        }

        function translateInterface() {
            const d = langData[state.course] || langData['it-en'];
            const navs = document.querySelectorAll('.nav-item span');
            navs[0].innerText = d.home; navs[1].innerText = d.learn;
            navs[2].innerText = d.diary; navs[3].innerText = d.profile;
            document.getElementById('pet-talk').innerText = d.talk;
        }

        function loadExercise() {
            const box = document.getElementById('ex-box');
            box.innerHTML = `<h4>Traduca: "La mela"</h4>
            <button class="btn-course" style="border:1px solid #ddd; color:#2d2d2d" onclick="addXp()">The Apple</button>
            <button class="btn-course" style="border:1px solid #ddd; color:#2d2d2d" onclick="alert('Try again!')">The Pear</button>`;
        }

        function addXp() {
            state.xp += 25;
            document.getElementById('pet-talk').innerText = "Perfect! üî•";
            if(state.xp >= 100) { state.xp = 0; state.score++; }
            updateUI();
            alert("Mandou bem! +25 XP");
        }

        function updateUI() {
            document.getElementById('xp-fill').style.width = state.xp + '%';
            document.getElementById('xp-val').innerText = state.xp;
            document.getElementById('user-rank').innerText = ranks[state.score] || ranks[0];
        }

        function changeTab(tabId, el) {
            document.querySelectorAll('.tab-content').forEach(t => t.style.display = 'none');
            document.getElementById('tab-' + tabId).style.display = 'block';
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('nav-active'));
            el.classList.add('nav-active');
        }

        function saveNote() {
            const note = document.getElementById('diary-area').value;
            document.getElementById('saved-notes').innerHTML += `<p>‚Ä¢ ${note}</p>`;
            document.getElementById('diary-area').value = '';
            alert("Nota salva!");
        }

        function toggleDark() {
            document.body.style.background = document.body.style.background === 'rgb(45, 45, 45)' ? 'white' : '#2d2d2d';
            document.body.style.color = document.body.style.color === 'white' ? '#2d2d2d' : 'white';
        }
    </script>
</body>
</html>
