<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Planicchio</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:sans-serif;background:#fff7ed;margin:0;padding:20px}
.hidden{display:none}
button{padding:10px;margin:5px 0;width:100%;border:none;border-radius:10px;background:#fb923c;color:white;font-size:16px}
.card{background:white;padding:16px;border-radius:12px;margin-bottom:16px}
</style>
</head>

<body>

<!-- START -->
<div id="start" class="card">
  <h1>PLANICCHIO ğŸ±</h1>
  <p id="chooseText"></p>

  <button onclick="startCourse('it-en')">ğŸ‡®ğŸ‡¹ Italiano â†’ ğŸ‡¬ğŸ‡§ English</button>
  <button onclick="startCourse('pt-it')">ğŸ‡§ğŸ‡· PortuguÃªs â†’ ğŸ‡®ğŸ‡¹ Italiano</button>

  <div style="margin-top:10px">
    <button onclick="setLang('it')">IT</button>
    <button onclick="setLang('en')">EN</button>
    <button onclick="setLang('pt')">PT-BR</button>
  </div>
</div>

<!-- APP -->
<div id="app" class="hidden">

  <div class="card">
    <p id="prompt"></p>
    <p id="help" style="color:gray;font-size:14px"></p>

    <div id="quizBox">
      <button id="opt1"></button>
      <button id="opt2"></button>
    </div>

    <div id="writeBox" class="hidden">
      <input id="writeInput" style="width:100%;padding:8px">
      <button onclick="checkWrite()">OK</button>
    </div>
  </div>

</div>

<script>
/* ===== INTERFACE TEXT ===== */
const UI={
choose:{
  it:"Scegli il tuo corso",
  en:"Choose your course",
  pt:"Escolha seu curso"
}
}

let uiLang="it"
let course=""
let index=0

/* ===== CONTENT ===== */
const content=[
/* IT â†’ EN */
{course:"it-en",type:"quiz",
 prompt:"Cosa significa 'Buongiorno'?",
 help:"Scegli la traduzione corretta",
 o1:"Good morning",o2:"Good night",c:"Good morning"},

{course:"it-en",type:"write",
 prompt:"Traduci 'Grazie'",
 help:"Scrivi in inglese",
 c:"Thank you"},

{course:"it-en",type:"quiz",
 prompt:"Come chiedi il conto?",
 help:"Situazione: ristorante",
 o1:"The bill, please",o2:"Where is the hotel?",c:"The bill, please"},

/* PT â†’ IT */
{course:"pt-it",type:"quiz",
 prompt:"O que significa 'Buongiorno'?",
 help:"Escolha a opÃ§Ã£o correta",
 o1:"Bom dia",o2:"Boa noite",c:"Bom dia"},

{course:"pt-it",type:"write",
 prompt:"Traduza 'Obrigado'",
 help:"Escreva em italiano",
 c:"Grazie"},

{course:"pt-it",type:"quiz",
 prompt:"Como pedir a conta?",
 help:"SituaÃ§Ã£o: restaurante",
 o1:"Il conto, per favore",o2:"Dove Ã¨ il bagno?",c:"Il conto, per favore"}
]

/* ===== FUNCTIONS ===== */
function setLang(l){
  uiLang=l
  document.getElementById("chooseText").innerText=UI.choose[l]
}

setLang("it")

function startCourse(c){
  course=c
  document.getElementById("start").classList.add("hidden")
  document.getElementById("app").classList.remove("hidden")
  index=0
  showExercise()
}

function showExercise(){
  const list=content.filter(e=>e.course===course)
  if(list.length===0)return

  const e=list[index%list.length]

  document.getElementById("prompt").innerText=e.prompt
  document.getElementById("help").innerText=e.help

  document.getElementById("quizBox").classList.add("hidden")
  document.getElementById("writeBox").classList.add("hidden")

  if(e.type==="quiz"){
    document.getElementById("quizBox").classList.remove("hidden")
    opt1.innerText=e.o1
    opt2.innerText=e.o2
    opt1.onclick=()=>next()
    opt2.onclick=()=>next()
  }

  if(e.type==="write"){
    document.getElementById("writeBox").classList.remove("hidden")
    writeInput.value=""
    writeInput.dataset.c=e.c
  }
}

function checkWrite(){
  next()
}

function next(){
  index++
  showExercise()
}
</script>

</body>
</html>
