<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planicchio</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --p-orange: #ff7a00; --p-soft: #fff5eb; --p-text: #2d2d2d; }
        * { margin:0; padding:0; box-sizing:border-box; font-family:'Nunito', sans-serif; }
        body { background: #fff; color: var(--p-text); overflow-x: hidden; }

        /* --- DESIGNS DOS PETS (DETALHADOS) --- */
        .pet-canvas { width: 60px; height: 50px; position: relative; margin: 0 auto; transition: 0.3s; }
        .pet-body { width: 100%; height: 100%; border-radius: 50% 50% 40% 40%; position: relative; border: 2px solid #fff; }
        .pet-ear { position: absolute; width: 15px; height: 15px; top: -5px; }
        .pet-eye { width: 6px; height: 6px; background: #000; border-radius: 50%; position: absolute; top: 18px; }
        
        /* Estilos Espec√≠ficos */
        .cat .pet-body { background: #ff9500; }
        .cat .ear-l { left: 5px; border-left: 10px solid transparent; border-right: 10px solid transparent; border-bottom: 15px solid #ff9500; transform: rotate(-20deg); }
        .cat .ear-r { right: 5px; border-left: 10px solid transparent; border-right: 10px solid transparent; border-bottom: 15px solid #ff9500; transform: rotate(20deg); }

        .dog .pet-body { background: #8b4513; }
        .dog .ear-l { left: -5px; width: 12px; height: 20px; background: #8b4513; border-radius: 10px; top: 5px; }
        .dog .ear-r { right: -5px; width: 12px; height: 20px; background: #8b4513; border-radius: 10px; top: 5px; }

        .rabbit .pet-body { background: #e0e0e0; }
        .rabbit .ear-l { left: 10px; width: 10px; height: 25px; background: #e0e0e0; border-radius: 10px; top: -15px; }
        .rabbit .ear-r { right: 10px; width: 10px; height: 25px; background: #e0e0e0; border-radius: 10px; top: -15px; }

        .bear .pet-body { background: #4b3621; }
        .bear .ear-l { left: 5px; width: 15px; height: 15px; background: #4b3621; border-radius: 50%; top: -5px; }
        .bear .ear-r { right: 5px; width: 15px; height: 15px; background: #4b3621; border-radius: 50%; top: -5px; }

        /* --- INTERFACE --- */
        .screen { display: none; min-height: 100vh; padding: 20px; flex-direction: column; }
        .active { display: flex; animation: fadeIn 0.4s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .btn-course { background: white; color: var(--p-orange); border: none; padding: 20px; border-radius: 25px; width: 100%; margin-bottom: 12px; font-weight: 900; box-shadow: 0 5px 0 rgba(0,0,0,0.1); cursor: pointer; text-transform: capitalize; }
        .btn-main { background: var(--p-orange); color: white; border: none; padding: 18px; border-radius: 20px; width: 100%; font-weight: 900; cursor: pointer; box-shadow: 0 4px 0 #d36500; }
        .card { background: var(--p-soft); border-radius: 30px; padding: 25px; margin-bottom: 20px; }
        
        nav { position: fixed; bottom: 0; left: 0; width: 100%; background: white; display: flex; justify-content: space-around; padding: 15px; border-top: 2px solid #eee; z-index: 100; }
        .nav-item { text-align: center; color: #ccc; cursor: pointer; flex: 1; }
        .nav-item span { display: block; font-size: 10px; font-weight: 900; margin-top: 5px; }
        .nav-active { color: var(--p-orange); }

        #floating-pet { position: fixed; bottom: 100px; right: 20px; z-index: 200; display: none; align-items: center; }
        .bubble { background: white; border: 2px solid var(--p-orange); padding: 8px 15px; border-radius: 20px; font-size: 13px; font-weight: 800; margin-right: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
    </style>
</head>
<body>

    <div id="screen-intro" class="screen active" style="background: var(--p-orange); justify-content: center; align-items: center;">
        <h1 style="color: white; font-weight: 900; margin-bottom: 30px; font-size: 35px;">Planicchio</h1>
        <div id="course-list" style="width: 100%; max-width: 350px;">
            <button class="btn-course" onclick="startFlow('it-en')">Italiano ‚ûî Inglese</button>
            <button class="btn-course" onclick="startFlow('it-pt')">Italiano ‚ûî Portoghese</button>
            <button class="btn-course" onclick="startFlow('pt-it')">Portugu√™s ‚ûî Italiano</button>
            <button class="btn-course" onclick="startFlow('pt-en')">Portugu√™s ‚ûî Ingl√™s</button>
            <button class="btn-course" onclick="startFlow('en-it')">English ‚ûî Italian</button>
            <button class="btn-course" onclick="startFlow('en-pt')">English ‚ûî Portuguese</button>
        </div>
    </div>

    <div id="screen-quiz" class="screen">
        <h2 id="qz-title" style="text-align: center; color: var(--p-orange); margin-bottom: 20px;">Nivelamento</h2>
        <div class="card" style="text-align: center;">
            <p id="qz-question" style="font-size: 22px; font-weight: 900; margin: 30px 0;"></p>
            <div id="qz-options"></div>
        </div>
    </div>

    <div id="screen-app" class="screen">
        <div id="tab-home" class="tab-content">
            <h2 id="ui-h-title" style="font-weight: 900; color: var(--p-orange);">In√≠cio</h2>
            <div class="card" style="margin-top: 20px;">
                <h3 id="ui-rank">N√¥made "A1"</h3>
                <div style="background: #fff; height: 12px; border-radius: 10px; margin: 10px 0; overflow: hidden;">
                    <div id="xp-bar" style="background: var(--p-orange); width: 10%; height: 100%;"></div>
                </div>
                <p id="ui-xp-txt" style="font-size: 12px; font-weight: 800;">XP: 10/100</p>
            </div>
            <div class="card">
                <h4 id="ui-miss-d">Miss√µes Di√°rias</h4>
                <p id="ui-miss-1">üî• Praticar 5 min</p>
            </div>
            <div class="card" style="background: #e6f7ff;">
                <h4 id="ui-miss-w">Miss√µes Semanais</h4>
                <p id="ui-miss-w1">üèÜ Completar 10 li√ß√µes</p>
            </div>
        </div>

        <div id="tab-learn" class="tab-content" style="display:none;">
            <h2 id="ui-l-title">Aprender</h2>
            <div id="exercise-box" class="card" style="margin-top:20px; background: white; border: 3px solid var(--p-orange);">
                </div>
        </div>

        <div id="tab-profile" class="tab-content" style="display:none;">
            <h2 id="ui-p-title">Perfil</h2>
            <div class="card">
                <label id="ui-name-l">Nome:</label>
                <input type="text" id="user-name" value="Ana" style="width:100%; padding:10px; border-radius:10px; border:1px solid #ddd; margin-bottom:15px;">
                
                <label id="ui-pet-l">Pet Assistente:</label>
                <select id="pet-select" onchange="updatePetUI()" style="width:100%; padding:10px; border-radius:10px; margin-bottom:15px;">
                    <option value="cat">Gato / Cat / Gatto</option>
                    <option value="dog">C√£o / Dog / Cane</option>
                    <option value="rabbit">Coelho / Rabbit / Coniglio</option>
                    <option value="bear">Urso / Bear / Orso</option>
                </select>

                <label id="ui-diary-l">Meu Di√°rio:</label>
                <textarea id="diary-text" style="width:100%; height:80px; border-radius:10px; border:1px solid #ddd; padding:10px;"></textarea>
                <button class="btn-main" id="ui-save-btn" onclick="alert('Salvo!')">Salvar Di√°rio</button>
            </div>
        </div>

        <nav>
            <div class="nav-item nav-active" onclick="changeTab('home', this)">üè†<span id="nv-1">IN√çCIO</span></div>
            <div class="nav-item" onclick="changeTab('learn', this)">üéØ<span id="nv-2">ESTUDAR</span></div>
            <div class="nav-item" onclick="changeTab('profile', this)">üë§<span id="nv-3">PERFIL</span></div>
        </nav>
    </div>

    <div id="floating-pet">
        <div class="bubble" id="pet-msg">Ciao!</div>
        <div id="pet-render" class="pet-canvas cat">
            <div class="pet-ear ear-l"></div><div class="pet-ear ear-r"></div>
            <div class="pet-body">
                <div class="pet-eye eye-l"></div><div class="pet-eye eye-r"></div>
            </div>
        </div>
    </div>

    <script>
        // --- MOTOR DE TRADU√á√ÉO COMPLETO ---
        const langPack = {
            'it-en': {
                nv: ['HOME', 'LEARN', 'PROFILE'],
                ui: { h: 'Home', r: 'Nomad "A1"', md: 'Daily Missions', mw: 'Weekly Missions', name: 'Name:', pet: 'Pet:', diary: 'Study Diary:', save: 'Save Diary', learn: 'Learn', quiz: 'Placement' },
                petMsg: 'Let\'s go!',
                quiz: [
                    { q: "Translate: 'Buongiorno'", o: ['Good Morning', 'Good Night', 'Hi'], a: 'Good Morning' },
                    { q: "What is 'Apple' in Italian?", o: ['Mela', 'Pera', 'Gatto'], a: 'Mela' },
                    { q: "Select 'The Water'", o: ['L\'acqua', 'Il vino', 'Il sole'], a: 'L\'acqua' }
                ],
                ex: { q: 'Translate "The Boy"', o: ['Il ragazzo', 'La ragazza', 'Il cane'], a: 'Il ragazzo' }
            },
            'pt-it': {
                nv: ['IN√çCIO', 'ESTUDAR', 'PERFIL'],
                ui: { h: 'In√≠cio', r: 'N√¥made "A1"', md: 'Miss√µes Di√°rias', mw: 'Miss√µes Semanais', name: 'Nome:', pet: 'Pet Assistente:', diary: 'Di√°rio de Estudos:', save: 'Salvar Di√°rio', learn: 'Aprender', quiz: 'Nivelamento' },
                petMsg: 'Vamos l√°!',
                quiz: [
                    { q: "Como se diz 'Oi'?", o: ['Ciao', 'Buongiorno', 'Prego'], a: 'Ciao' },
                    { q: "Traduza 'Gato'", o: ['Gatto', 'Cane', 'Uccello'], a: 'Gatto' },
                    { q: "O que √© 'Acqua'?", o: ['√Ågua', 'Vinho', 'Leite'], a: '√Ågua' }
                ],
                ex: { q: 'Traduza "O Menino"', o: ['Il ragazzo', 'La ragazza', 'Il cane'], a: 'Il ragazzo' }
            },
            'en-it': {
                nv: ['HOME', 'STUDY', 'ME'],
                ui: { h: 'Home', r: 'Nomad "A1"', md: 'Daily Tasks', mw: 'Weekly Tasks', name: 'Name:', pet: 'Pet Assistant:', diary: 'Diary:', save: 'Save', learn: 'Study', quiz: 'Level Test' },
                petMsg: 'Ready?',
                quiz: [
                    { q: "How do you say 'Thank you'?", o: ['Grazie', 'Prego', 'Per favore'], a: 'Grazie' },
                    { q: "Translate 'Il Cane'", o: ['The Dog', 'The Cat', 'The Bird'], a: 'The Dog' },
                    { q: "Select 'Bread'", o: ['Pane', 'Vino', 'Pasta'], a: 'Pane' }
                ],
                ex: { q: 'Translate "The Girl"', o: ['La ragazza', 'Il ragazzo', 'La mela'], a: 'La ragazza' }
            }
        };

        let state = { course: 'pt-it', step: 0, score: 0, pet: 'cat' };

        function startFlow(id) {
            state.course = id;
            state.step = 0; state.score = 0;
            document.getElementById('screen-intro').style.display = 'none';
            document.getElementById('screen-quiz').classList.add('active');
            loadQuiz();
        }

        function loadQuiz() {
            const d = langPack[state.course] || langPack['pt-it'];
            const q = d.quiz[state.step];
            document.getElementById('qz-title').innerText = d.ui.quiz;
            document.getElementById('qz-question').innerText = q.q;
            const optDiv = document.getElementById('qz-options');
            optDiv.innerHTML = '';
            q.o.forEach(o => {
                optDiv.innerHTML += `<button class="btn-course" style="background:#eee" onclick="nextQuiz('${o}','${q.a}')">${o}</button>`;
            });
        }

        function nextQuiz(o, a) {
            if(o === a) state.score++;
            state.step++;
            if(state.step < 3) loadQuiz();
            else finishQuiz();
        }

        function finishQuiz() {
            document.getElementById('screen-quiz').classList.remove('active');
            document.getElementById('screen-app').classList.add('active');
            document.getElementById('floating-pet').style.display = 'flex';
            applyTranslations();
            loadLesson();
        }

        function applyTranslations() {
            const d = langPack[state.course] || langPack['pt-it'];
            document.getElementById('nv-1').innerText = d.nv[0];
            document.getElementById('nv-2').innerText = d.nv[1];
            document.getElementById('nv-3').innerText = d.nv[2];
            document.getElementById('ui-h-title').innerText = d.ui.h;
            document.getElementById('ui-l-title').innerText = d.ui.learn;
            document.getElementById('ui-p-title').innerText = d.ui.h;
            document.getElementById('ui-rank').innerText = d.ui.r;
            document.getElementById('pet-msg').innerText = d.petMsg;
            document.getElementById('ui-name-l').innerText = d.ui.name;
            document.getElementById('ui-pet-l').innerText = d.ui.pet;
            document.getElementById('ui-diary-l').innerText = d.ui.diary;
            document.getElementById('ui-save-btn').innerText = d.ui.save;
        }

        function loadLesson() {
            const d = langPack[state.course] || langPack['pt-it'];
            const box = document.getElementById('exercise-box');
            box.innerHTML = `<h3>${d.ex.q}</h3><div style="margin-top:20px"></div>`;
            d.ex.o.forEach(o => {
                box.innerHTML += `<button class="btn-course" style="border:2px solid #f0f0f0" onclick="checkEx('${o}','${d.ex.a}')">${o}</button>`;
            });
        }

        function checkEx(o, a) {
            if(o === a) alert("Correto! +20 XP");
            else alert("Ops! Resposta certa: " + a);
        }

        function updatePetUI() {
            const pet = document.getElementById('pet-select').value;
            const render = document.getElementById('pet-render');
            render.className = `pet-canvas ${pet}`;
        }

        function changeTab(tabId, el) {
            document.querySelectorAll('.tab-content').forEach(t => t.style.display = 'none');
            document.getElementById('tab-' + tabId).style.display = 'block';
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('nav-active'));
            el.classList.add('nav-active');
        }
    </script>
</body>
</html>
