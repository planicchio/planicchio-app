<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planicchio Pro</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --p-orange: #ff7a00; --p-light: #fff7ed; --p-dark: #2d2d2d; --p-white: #ffffff; --p-gray: #f0f0f0; --p-vip: linear-gradient(45deg, #ffd700, #ff8c00); }
        [data-theme='dark'] { --p-light: #121212; --p-white: #1e1e1e; --p-dark: #f0f0f0; --p-gray: #333; }
        * { margin:0; padding:0; box-sizing:border-box; font-family:'Nunito', sans-serif; }
        body { background: var(--p-light); color: var(--p-dark); transition: 0.3s; overflow-x: hidden; }

        .screen { display: none; padding: 20px; padding-bottom: 100px; min-height: 100vh; animation: fadeIn 0.4s; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity:0; transform: translateY(10px); } to { opacity:1; transform: translateY(0); } }

        /* UI */
        .top-bar { display: flex; align-items: center; justify-content: space-between; padding: 15px; background: var(--p-white); border-radius: 0 0 25px 25px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 100; }
        .xp-bar-container { flex-grow: 1; height: 12px; background: var(--p-gray); border-radius: 10px; margin: 0 15px; overflow: hidden; }
        .xp-bar-fill { height: 100%; background: var(--p-orange); width: 0%; transition: 0.5s; }
        .card { background: var(--p-white); padding: 20px; border-radius: 24px; box-shadow: 0 6px 20px rgba(0,0,0,0.04); margin-bottom: 20px; border-bottom: 4px solid var(--p-gray); }
        .btn-course { background: var(--p-white); border: 2px solid var(--p-gray); padding: 15px; border-radius: 18px; width: 100%; text-align: left; margin-bottom: 10px; font-weight: 800; cursor: pointer; display: flex; align-items: center; gap: 15px; }
        .btn-main { background: var(--p-orange); color: white; border: none; padding: 18px; border-radius: 18px; width: 100%; font-weight: 900; cursor: pointer; box-shadow: 0 4px 0 #d36500; }
        
        /* PET */
        .pet-stage { text-align: center; margin: 20px 0; }
        .pet-bubble { background: var(--p-white); padding: 12px; border-radius: 18px; border: 3px solid var(--p-orange); display: inline-block; font-weight: 700; position: relative; }
        .pet-avatar { font-size: 70px; cursor: pointer; }

        /* NAV - 5 ITENS */
        nav { position: fixed; bottom: 0; left: 0; width: 100%; background: var(--p-white); display: flex; justify-content: space-around; padding: 15px; border-top: 3px solid var(--p-gray); z-index: 1000; }
        .nav-item { font-size: 22px; cursor: pointer; color: #ccc; transition: 0.3s; text-align: center; }
        .nav-item span { display: block; font-size: 10px; font-weight: 900; }
        .nav-item.active-tab { color: var(--p-orange); transform: translateY(-3px); }

        .skin-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
        .skin-item { font-size: 30px; background: var(--p-gray); padding: 10px; border-radius: 12px; cursor: pointer; text-align: center; }
    </style>
</head>
<body>

    <div id="screen-intro" class="screen active">
        <div class="pet-stage">
            <div class="pet-bubble">Benvenuti! Scegli il tuo curso.<br>Welcome! Choose your course.</div><br>
            <div class="pet-avatar">üê±</div>
        </div>
        <div id="course-list"></div>
    </div>

    <div id="screen-placement" class="screen">
        <div class="card">
            <h2 id="placement-title">Nivelamento</h2>
            <p id="placement-q" style="margin: 20px 0; font-size: 18px;">Pergunta...</p>
            <div id="placement-options"></div>
        </div>
    </div>

    <div id="screen-app" class="screen">
        <div class="top-bar">
            <div style="font-weight:900; color:var(--p-orange)">LV <span id="ui-lvl">1</span></div>
            <div class="xp-bar-container"><div id="ui-xp-fill" class="xp-bar-fill"></div></div>
            <div>üî• <span id="ui-streak">0</span></div>
        </div>

        <div id="tab-home" class="tab-content">
            <div class="pet-stage">
                <div class="pet-bubble" id="pet-msg">Ciao!</div><br>
                <div class="pet-avatar main-pet">üê±</div>
            </div>
            <div class="card">
                <h3 id="txt-mission-title">Miss√µes</h3>
                <p id="ui-mission-desc">Complete li√ß√µes para subir de n√≠vel.</p>
            </div>
            <div class="card" style="border-bottom: 4px solid gold;">
                <h3 style="color:#b8860b">üëë VIP Planicchio</h3>
                <p id="txt-vip-desc">Aulas com nativos desbloqueadas.</p>
                <button class="btn-main" style="background:var(--p-vip); border:none;">VIP</button>
            </div>
        </div>

        <div id="tab-learn" class="tab-content" style="display:none;">
            <div id="exercise-box" class="card"></div>
        </div>

        <div id="tab-slangs" class="tab-content" style="display:none;">
            <h2 id="txt-slang-title">Dicion√°rio & G√≠rias</h2>
            <div id="slang-list" class="card"></div>
        </div>

        <div id="tab-community" class="tab-content" style="display:none;">
            <h2 id="txt-comm-title">Comunidade</h2>
            <div class="card">
                <p>üí¨ <b>Marco:</b> Buongiorno a tutti!</p>
                <p>üí¨ <b>Sora:</b> Hello guys!</p>
                <hr style="margin:10px 0; opacity:0.1">
                <button class="btn-main" style="font-size:14px; padding:10px;">Postar Mensagem</button>
            </div>
        </div>

        <div id="tab-profile" class="tab-content" style="display:none;">
            <h2 id="txt-profile-title">Perfil</h2>
            <div class="card">
                <p><b id="txt-p-lvl">N√≠vel</b>: <span id="prof-lvl">1</span></p>
                <div class="skin-grid" id="skin-selector"></div>
            </div>
            <button class="btn-main" onclick="toggleTheme()" style="background:var(--p-dark); margin-bottom:10px;">Dark Mode</button>
            <button class="btn-main" style="background:#ff4b4b;" onclick="location.reload()">Reset</button>
        </div>

        <nav>
            <div class="nav-item active-tab" onclick="changeTab('home', this)">üè†<span>HOME</span></div>
            <div class="nav-item" onclick="changeTab('learn', this)">üéØ<span>LEARN</span></div>
            <div class="nav-item" onclick="changeTab('slangs', this)">üìñ<span>SLANGS</span></div>
            <div class="nav-item" onclick="changeTab('community', this)">ü§ù<span>SOCIAL</span></div>
            <div class="nav-item" onclick="changeTab('profile', this)">üë§<span>PROFILO</span></div>
        </nav>
    </div>

    <script>
        // TRADU√á√ïES DE INTERFACE (Layout Totalmente Traduzido)
        const uiI18n = {
            'it-pt': { mission: 'Missioni', vip: 'Lezioni con madrelingua', profile: 'Profilo', learn: 'Esercizi', level: 'Livello', home: 'Inizio', slangs: 'Gergo', social: 'Comunit√†' },
            'pt-it': { mission: 'Miss√µes', vip: 'Aulas com Nativos', profile: 'Perfil', learn: 'Aprender', level: 'N√≠vel', home: 'In√≠cio', slangs: 'G√≠rias', social: 'Comunidade' },
            'en-it': { mission: 'Daily Quests', vip: 'Native Lessons', profile: 'Profile', learn: 'Learn', level: 'Level', home: 'Home', slangs: 'Slangs', social: 'Social' }
            // Adicionar para os outros 3 pares...
        };

        const db = {
            'it-pt': [
                { q: 'Traduci: "La colazione √® pronta"', o: ['O caf√© da manh√£ est√° pronto', 'O jantar est√° servido', 'A casa √© grande'], a: 'O caf√© da manh√£ est√° pronto' },
                { q: 'Scrivi "Libro" in Portoghese:', a: 'livro', type: 'spell' }
            ],
            'pt-it': [
                { q: 'Como se diz "Janela" em Italiano?', o: ['Finestra', 'Porta', 'Tetto'], a: 'Finestra' },
                { q: 'Traduca: "Eu bebo √°gua"', o: ['Bevo acqua', 'Mangio pane', 'Vado a casa'], a: 'Bevo acqua' }
            ]
        };

        const placements = {
            'pt-it': [
                { q: 'O que significa "Prego"?', o: ['De nada', 'Por favor', 'Prego de metal'], a: 'De nada' },
                { q: 'Como se diz "Tchau" (informal)?', o: ['Addio', 'Ciao', 'Salve'], a: 'Ciao' }
            ],
            'it-pt': [
                { q: 'Cosa significa "Frango"?', o: ['Pollo', 'Manzo', 'Pesce'], a: 'Pollo' }
            ]
        };

        let state = { xp: 0, lvl: 1, course: 'pt-it', pet: 'üê±', curEx: 0, placementStep: 0 };

        window.onload = () => {
            const list = document.getElementById('course-list');
            const courses = [
                { id: 'it-pt', n: 'Italiano ‚ûî Portugu√™s', f: 'üáÆüáπ‚ûîüáßüá∑' },
                { id: 'pt-it', n: 'Portugu√™s ‚ûî Italiano', f: 'üáßüá∑‚ûîüáÆüáπ' },
                { id: 'it-en', n: 'Italiano ‚ûî English', f: 'üáÆüáπ‚ûîüá¨üáß' },
                { id: 'en-it', n: 'English ‚ûî Italiano', f: 'üá¨üáß‚ûîüáÆüáπ' },
                { id: 'pt-en', n: 'Portugu√™s ‚ûî English', f: 'üáßüá∑‚ûîüá¨üáß' },
                { id: 'en-pt', n: 'English ‚ûî Portugu√™s', f: 'üá¨üáß‚ûîüáßüá∑' }
            ];
            courses.forEach(c => {
                list.innerHTML += `<button class="btn-course" onclick="startPlacement('${c.id}')"><span>${c.f}</span> ${c.n}</button>`;
            });

            const skinGrid = document.getElementById('skin-selector');
            ['üê±','üê∂','ü¶ä','ü¶Å','üê∑','üêº','üê∞','üêØ'].forEach(s => {
                skinGrid.innerHTML += `<div class="skin-item" onclick="changeSkin('${s}')">${s}</div>`;
            });
        };

        function startPlacement(id) {
            state.course = id;
            state.placementStep = 0;
            document.getElementById('screen-intro').classList.remove('active');
            document.getElementById('screen-placement').classList.add('active');
            showPlacementQuestion();
        }

        function showPlacementQuestion() {
            const data = placements[state.course] || placements['pt-it'];
            const q = data[state.placementStep];
            if(!q) { finishPlacement(); return; }

            document.getElementById('placement-q').innerText = q.q;
            const optDiv = document.getElementById('placement-options');
            optDiv.innerHTML = '';
            q.o.forEach(o => {
                optDiv.innerHTML += `<button class="btn-main" style="margin-bottom:10px" onclick="nextPlacement('${o}','${q.a}')">${o}</button>`;
            });
        }

        function nextPlacement(ans, corr) {
            if(ans === corr) state.xp += 50;
            state.placementStep++;
            showPlacementQuestion();
        }

        function finishPlacement() {
            if(state.xp >= 100) { state.lvl = 3; state.xp = 0; alert("Wow! N√≠vel Intermedi√°rio!"); }
            document.getElementById('screen-placement').classList.remove('active');
            document.getElementById('screen-app').classList.add('active');
            translateLayout();
            updateUI();
            loadExercise();
        }

        function translateLayout() {
            const lang = state.course;
            const t = uiI18n[lang] || uiI18n['pt-it'];
            document.getElementById('txt-mission-title').innerText = t.mission;
            document.getElementById('txt-vip-desc').innerText = t.vip;
            document.getElementById('txt-profile-title').innerText = t.profile;
            document.getElementById('txt-slang-title').innerText = t.slangs;
            document.getElementById('txt-comm-title').innerText = t.social;
            document.getElementById('txt-p-lvl').innerText = t.level;
            
            // Traduzir Navbar
            const navs = document.querySelectorAll('.nav-item span');
            navs[0].innerText = t.home; navs[1].innerText = t.learn; navs[2].innerText = t.slangs; 
            navs[3].innerText = t.social; navs[4].innerText = t.profile;
        }

        function loadExercise() {
            const box = document.getElementById('exercise-box');
            const data = db[state.course] || db['pt-it'];
            const ex = data[state.curEx];
            if(!ex) { box.innerHTML = "üéâ Fine!"; return; }
            
            let html = `<p style="font-size:20px; font-weight:900; margin-bottom:20px;">${ex.q}</p>`;
            if(ex.type === 'spell') {
                html += `<input type="text" id="sp-in" style="width:100%; padding:10px; border-radius:10px; margin-bottom:10px;">
                         <button class="btn-main" onclick="check(document.getElementById('sp-in').value,'${ex.a}')">OK</button>`;
            } else {
                ex.o.forEach(o => html += `<button class="btn-course" onclick="check('${o}','${ex.a}')">${o}</button>`);
            }
            box.innerHTML = html;
        }

        function check(i, a) {
            if(i.toLowerCase().trim() === a.toLowerCase().trim()) { state.xp += 20; state.curEx++; }
            else { alert("Errado! Resposta: " + a); }
            if(state.xp >= 100) { state.xp = 0; state.lvl++; }
            updateUI(); loadExercise();
        }

        function changeTab(tabId, el) {
            document.querySelectorAll('.tab-content').forEach(t => t.style.display = 'none');
            document.getElementById('tab-' + tabId).style.display = 'block';
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active-tab'));
            el.classList.add('active-tab');
        }

        function updateUI() {
            document.getElementById('ui-lvl').innerText = state.lvl;
            document.getElementById('prof-lvl').innerText = state.lvl;
            document.getElementById('ui-xp-fill').style.width = state.xp + '%';
        }

        function changeSkin(s) { document.querySelectorAll('.pet-avatar, .main-pet').forEach(p => p.innerText = s); }
        function toggleTheme() { document.body.setAttribute('data-theme', document.body.getAttribute('data-theme') === 'dark' ? 'light' : 'dark'); }
    </script>
</body>
</html>
