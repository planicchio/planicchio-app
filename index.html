<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Planicchio</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:sans-serif;background:#fff7ed;margin:0;padding:20px}
.hidden{display:none}
button{padding:10px;margin:5px 0;width:100%;border:none;border-radius:10px;background:#fb923c;color:white;font-size:16px}
.card{background:white;padding:16px;border-radius:12px;margin-bottom:16px}
select,input{width:100%;padding:8px;margin-bottom:10px}
</style>
</head>

<body>

<div id="start" class="card">
  <h1>PLANICCHIO ğŸ±</h1>

  <select id="course">
    <option value="it-en">Italiano â†’ English</option>
    <option value="it-pt">Italiano â†’ PortuguÃªs</option>
    <option value="pt-it">PortuguÃªs â†’ Italiano</option>
    <option value="pt-en">PortuguÃªs â†’ English</option>
    <option value="en-it">English â†’ Italiano</option>
    <option value="en-pt">English â†’ PortuguÃªs</option>
  </select>

  <select id="level">
    <option>A1</option>
    <option>A2</option>
    <option>B1</option>
    <option>B2</option>
    <option>C1</option>
    <option>C2</option>
  </select>

  <button onclick="start()">ComeÃ§ar</button>
</div>

<div id="app" class="hidden">
  <div class="card">
    <p id="prompt"></p>
    <p id="help" style="color:gray"></p>

    <div id="quizBox">
      <button id="o1"></button>
      <button id="o2"></button>
    </div>

    <div id="writeBox" class="hidden">
      <input id="input">
      <button onclick="next()">OK</button>
    </div>
  </div>
</div>

<script>
let course, level, i=0

const exercises=[
/* A1 */
{course:"it-en",level:"A1",type:"quiz",prompt:"Come si dice 'Ciao' in inglese?",o1:"Hello",o2:"Bye"},
{course:"pt-it",level:"A1",type:"quiz",prompt:"Como se diz 'OlÃ¡' em italiano?",o1:"Ciao",o2:"Grazie"},
{course:"en-pt",level:"A1",type:"write",prompt:"Translate: Hello",answer:"OlÃ¡"},

/* A2 */
{course:"it-en",level:"A2",type:"write",prompt:"Come si dice 'Io mangio' in inglese?",answer:"I eat"},
{course:"pt-it",level:"A2",type:"quiz",prompt:"Como se diz 'Eu gosto de cafÃ©' em italiano?",o1:"Mi piace il caffÃ¨",o2:"Vado a casa"},

/* B1 */
{course:"it-en",level:"B1",type:"situation",prompt:"Al ristorante: Come chiedi un menu?",answer:"Can I have the menu?"},
{course:"pt-it",level:"B1",type:"write",prompt:"Como dizer 'Eu estou aprendendo italiano'?",answer:"Sto imparando italiano"},

/* B2 */
{course:"en-pt",level:"B2",type:"situation",prompt:"At work: I need to finish this today.",answer:"Preciso terminar isso hoje"},

/* C1 */
{course:"it-en",level:"C1",type:"write",prompt:"Traduci: Ho maturato esperienza nel settore.",answer:"I have gained experience in the field"},

/* C2 */
{course:"pt-it",level:"C2",type:"situation",prompt:"Discussione: A educaÃ§Ã£o muda a sociedade.",answer:"L'educazione cambia la societÃ "}
]

let list=[]

function start(){
  course=document.getElementById("course").value
  level=document.getElementById("level").value
  list=exercises.filter(e=>e.course===course && e.level===level)
  document.getElementById("start").classList.add("hidden")
  document.getElementById("app").classList.remove("hidden")
  i=0
  show()
}

function show(){
  const e=list[i%list.length]
  prompt.innerText=e.prompt
  quizBox.classList.add("hidden")
  writeBox.classList.add("hidden")

  if(e.type==="quiz"){
    quizBox.classList.remove("hidden")
    o1.innerText=e.o1
    o2.innerText=e.o2
    o1.onclick=next
    o2.onclick=next
  }else{
    writeBox.classList.remove("hidden")
  }
}

function next(){
  i++
  show()
}
</script>
</body>
</html>
